{"version":3,"sources":["webpack:///$_lazy_route_resource lazy namespace object","webpack:///node_modules/moment/locale sync ^\\.\\/.*$","webpack:///src/app/api.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///src/app/app.module.ts","webpack:///src/app/product-info-modal/product-info-modal.component.ts","webpack:///src/app/product-info-modal/product-info-modal.component.html","webpack:///src/app/product-search-select-modal/product-search-select-modal.component.ts","webpack:///src/app/product-search-select-modal/product-search-select-modal.component.html","webpack:///src/app/sort-by.pipe.ts","webpack:///src/app/store/app.actions.ts","webpack:///src/app/store/app.effects.ts","webpack:///src/app/store/app.selectors.ts","webpack:///src/app/store/app.state.ts","webpack:///src/app/store/diet/diet.actions.ts","webpack:///src/app/store/diet/diet.effects.ts","webpack:///src/app/store/diet/diet.reducer.ts","webpack:///src/app/store/diet/diet.selectors.ts","webpack:///src/app/store/userData/userData.actions.ts","webpack:///src/app/store/userData/userData.effects.ts","webpack:///src/app/store/userData/userData.reducer.ts","webpack:///src/app/store/userData/userData.selectors.ts","webpack:///src/environments/environment.ts","webpack:///src/main.ts","webpack:///src/utils/calculator.ts","webpack:///src/utils/diacriticRegex.ts","webpack:///src/utils/filterCorrelated.ts"],"names":["webpackEmptyAsyncContext","req","Promise","resolve","then","e","Error","code","keys","module","exports","id","map","webpackContext","webpackContextResolve","__webpack_require__","o","webpackContextKeys","Object","ApiService","http","production","products","fetch","response","json","product","index","search","limit","pipe","regex","flags","filter","x","description","slice","sort","a","b","localeCompare","body","set","String","post","toString","headers","userDataJSON","localStorage","getItem","toReturn","JSON","parse","userData","setItem","stringify","forEach","key","date","dietsJSON","diets","find","format","serverDiet","serverDietToIDiet","diet","dietToServerDiet","meals","meal","productLines","productLine","amount","createdAt","currentMeal","plKey","reduce","mealDict","previousValue","currentValue","getLocalStorageDiets","foundDietIdx","findIndex","copy","saveLocalStorageDiets","toSaveDiet","responseType","blob","document","createElement","appendChild","style","display","url","window","URL","createObjectURL","href","download","click","revokeObjectURL","year","month","providedIn","routes","AppRoutingModule","forRoot","imports","$event","event","modalRef","colors","red","primary","secondary","AppComponent","apiSvc","modalSvc","store","formBuilder","title","storeCustomerProductErrors","showSuccessMessage","blockStoreButton","onDateChanged$","subscriptions","showCalendar","view","Month","CalendarView","viewDate","Date","actions","label","a11yLabel","onClick","handleEvent","events","iEvent","activeDayIsOpen","refresh","currentDate","userDataForm","group","gender","age","weight","height","activityIndex","bodyFat","goal","proteinRatio","carbsRatio","fatRatio","controls","formControlKey","add","valueChanges","subscribe","value","dispatch","bodyMassIndex$","leanBodyMass$","leanBodyMassIndex$","goalCalories$","proteinKCal$","fatKCal$","carbsKCal$","proteinGrams$","fatGrams$","fiberGrams$","carbsGrams$","remainingKCal$","remainingProteinGrams$","remainingFatGrams$","remainingFiberGrams$","remainingCarbsGrams$","productFind$","observer","next","currentSearch","getProducts","item","userData$","patchValue","emitEvent","diet$","correlationId","console","log","collapseCustomerDetails","modifyDate","templateRef","show","addingMeal","toEditMeal","mealId","hide","mealEditModal","stopPropagation","accordion","isOpen","initialState","content","onProductSelected","productLineId","productKey","getProductLineInfo","getDietInfo","getMealInfo","nutrient","getMealEnergyInfo","getMealRecommendedIntakePercent","qty","addingCustomerProduct","toEditCustomerProduct","unit","kCalories","protein","carbohydrates","fat","vitA","vitB1","vitB2","vitB3","vitB5","vitB6","vitB9","vitB12","vitC","vitD","vitE","vitK","choline","calcium","copper","iron","magnesium","manganese","phosphorus","potassium","selenium","sodium","zinc","water","fiber","cholesterol","saturatedFat","monoUnsaturatedFat","polyUnsaturatedFat","glycemicIndex","comments","data","attr","method","dataType","processData","contentType","success","errors","length","save","setTimeout","error","status","unsubscribe","action","parseInt","listEventsByMonth","eventToDelete","toISOString","getDietsbyDate","res","element","push","start","end","color","draggable","resizable","beforeStart","afterEnd","selector","templateUrl","styleUrls","AppModule","provide","useValue","baseHref","instrument","maxAge","logOnly","useFactory","declarations","providers","bootstrap","ProductInfoModalComponent","bsModalRef","properties","_product","productInfo","getProductInfo","ProductSearchSelectModalComponent","searchTermChanged","foundItems$","searchTerm","iProduct","onProductSearchChange","KeyValueSortByPipe","order","column","name","requestGetPDF","getPDF","effectError","requestSaveData","saveData","saveDataSuccess","dietChanged","failedMiserably","AppEffects","actions$","store$","userDataEffects","dietEffects","requestSaveData$","saveData$","saveDataSuccess$","pair","requestGetPDF$","getPDF$","getPDFAction","handleError$","alert","selectPDFBlob","state","blobPDFRequest","blobState","pdfBlob","selectDietRemainingCalories","goalCalories","selectDietRemainingProteinGrams","goalProteinGrams","selectDietRemainingFatGrams","selectDietRemainingFiberGrams","goalFiberGrams","selectDietRemainingCarbsGrams","userName","fiberRatio","pendingChanges","getDietForDay","getDietForDayLoadSuccess","saveDiet","saveDietSuccess","addMeal","updateMealDescription","deleteMeal","addProductLine","deleteProductLine","changeProductLineAmount","changeProductLineProduct","DietEffects","loadDiet$","getDiet","newDiet","comidas","nowMoment","acc","message","saveDiet$","dietId","dietReducer","newState","updateItemInDictionary","mealToUpdate","deleteFromEntityState","newID","reducer","entityState","dictionary","itemId","updateItemCallback","selectDiet","selectChangesPending","updateAge","updateHeight","updateWeight","updateActivityIndex","updateBodyFatPercentage","updateGoal","updateProteinRatio","updateCarbsRatio","updateFatRatio","updateGender","getUserData","userDataLoadSuccess","saveUserData","saveUserDataSuccess","UserDataEffects","loadUserData$","saveUserData$","userDataReducer","updatedState","fakeParentState","proteinKCal","fatKCal","leanBodyMass","carbsKCal","toFixed","selectUserData","selectBodyMassIndex","selectLeanBodyMass","selectLeanBodyMassIndex","selectBasalCalories","selectGoalCalories","basalCalories","maintenanceCalories","multiplier","selectGoalProteinGrams","selectGoalProteinKCal","proteinGrams","selectGoalFatGrams","selectGoalFiberGrams","fiberGrams","selectGoalFatKCal","fatGrams","selectGoalCarbsGrams","selectGoalCarbsKCal","carbsGrams","environment","bootstrapModule","err","Calculator","values","numerator","totalCalories","pl","getNutrientByWeightRatio","ratio","getRatioByWeightAndAmount","proteinGramsToKCal","carbsGramsToKCal","fatGramsToKCal","proteinKCalToGrams","carbsKCalToGrams","fatKCalToGrams","mappings","fromCharCode","i","n","u","c","y","mergeMappings","innerMappings","base","mapping","replacer","input","givenMappings","split","letter","indexOf","Array","isArray","join","toRegex","options","RegExp","filterCorrelatedId","correlatedId","source"],"mappings":"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","file":"main-es5.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","import { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\n\r\nimport { Moment } from 'moment';\r\nimport { Observable, of } from 'rxjs';\r\nimport { fromPromise } from 'rxjs/internal-compatibility';\r\nimport { map, tap } from 'rxjs/operators';\r\nimport { environment } from '../environments/environment';\r\nimport { toRegex } from '../utils/diacriticRegex';\r\nimport { v4 as generateUUID } from 'uuid';\r\n\r\nexport interface IProductLine {\r\n  id: string | number;\r\n  product: IProduct;\r\n  amount: number;\r\n  createdAt: string;\r\n}\r\n\r\nexport interface IProduct {\r\n  id: number;\r\n  description: string;\r\n  amount: number;\r\n  unit: string;\r\n  kCalories: number;\r\n  protein: number;\r\n  carbohydrates: number;\r\n  fat: number;\r\n  vitA: number;\r\n  vitB1: number;\r\n  vitB2: number;\r\n  vitB3: number;\r\n  vitB5: number;\r\n  vitB6: number;\r\n  vitB9: number;\r\n  vitB12: number;\r\n  vitC: number;\r\n  vitD: number;\r\n  vitE: number;\r\n  vitK: number;\r\n  choline: number;\r\n  calcium: number;\r\n  copper: number;\r\n  iron: number;\r\n  magnesium: number;\r\n  manganese: number;\r\n  phosphorus: number;\r\n  potassium: number;\r\n  selenium: number;\r\n  sodium: number;\r\n  zinc: number;\r\n  water: number;\r\n  fiber: number;\r\n  cholesterol: number;\r\n  saturatedFat: number;\r\n  monoUnsaturatedFat: number;\r\n  polyUnsaturatedFat: number;\r\n  glycemicIndex: number;\r\n  comments: string;\r\n}\r\n\r\nexport interface IDiet {\r\n  id: number | string;\r\n  date: string;\r\n  meals: { [mealId: string]: IMeal };\r\n  pendingChanges?: boolean;\r\n}\r\n\r\nexport interface ServerDiet {\r\n  id: number | string;\r\n  date: string;\r\n  meals: ServerMeal[];\r\n}\r\n\r\nexport interface ServerMeal {\r\n  id: number | string;\r\n  description: string;\r\n  productLines: IProductLine[];\r\n  createdAt: string;\r\n}\r\n\r\nexport interface IMeal {\r\n  id: number | string;\r\n  description: string;\r\n  productLines: { [productLineId: string]: IProductLine };\r\n  createdAt: string;\r\n}\r\n\r\nexport interface ICustomerProduct {\r\n  id: number | string;\r\n  description: string;\r\n  amount: number;\r\n  unit: string;\r\n  kCalories: number;\r\n  protein: number;\r\n  carbohydrates: number;\r\n  fat: number;\r\n  vitA: number;\r\n  vitB1: number;\r\n  vitB2: number;\r\n  vitB3: number;\r\n  vitB5: number;\r\n  vitB6: number;\r\n  vitB9: number;\r\n  vitB12: number;\r\n  vitC: number;\r\n  vitD: number;\r\n  vitE: number;\r\n  vitK: number;\r\n  choline: number;\r\n  calcium: number;\r\n  copper: number;\r\n  iron: number;\r\n  magnesium: number;\r\n  manganese: number;\r\n  phosphorus: number;\r\n  potassium: number;\r\n  selenium: number;\r\n  sodium: number;\r\n  zinc: number;\r\n  water: number;\r\n  fiber: number;\r\n  cholesterol: number;\r\n  saturatedFat: number;\r\n  monoUnsaturatedFat: number;\r\n  polyUnsaturatedFat: number;\r\n  glycemicIndex: number;\r\n  comments: string;\r\n}\r\n\r\nexport interface IUserData {\r\n  userName: string;\r\n  gender: string;\r\n  age: number;\r\n  weight: number;\r\n  height: number;\r\n  activityIndex: number;\r\n  bodyFat: number;\r\n  goal: number;\r\n  proteinRatio: number;\r\n  carbsRatio: number;\r\n  fatRatio: number;\r\n  fiberRatio: number;\r\n  pendingChanges?: boolean;\r\n}\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ApiService {\r\n\r\n  products: PromiseLike<IProduct[]>;\r\n\r\n  constructor(private http: HttpClient) {\r\n    if ( !environment.production ) {\r\n      this.products = fetch('./assets/products.json')\r\n        .then(response => {\r\n          return response.json();\r\n        })\r\n        .then(products => {\r\n          return products\r\n            .map((product, index) => {\r\n              return {\r\n                id: index + 1,\r\n                ...product\r\n              };\r\n            });\r\n        });\r\n    }\r\n  }\r\n\r\n  getProducts(search: string = null, limit = 10): Observable<IProduct[]> {\r\n    if ( !environment.production ) {\r\n      return fromPromise(this.products).pipe(\r\n        map(products => {\r\n          if ( search ) {\r\n            const regex = toRegex({ flags: 'i' })(search);\r\n            products = products.filter(x => x.description.search(regex) !== -1);\r\n          }\r\n          if ( limit ) {\r\n            products = products.slice(0, limit);\r\n          }\r\n          return products.sort((a, b) => a.description.localeCompare(b.description));\r\n        })\r\n      );\r\n    }\r\n\r\n    const body = new HttpParams()\r\n      .set('action', 'get_products')\r\n      .set('search', search)\r\n      .set('limit', String(limit));\r\n    return this.http.post<IProduct[]>('/wp-admin/admin-ajax.php', body.toString(), {\r\n      headers: new HttpHeaders()\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n    });\r\n  }\r\n\r\n  getUserData(): Observable<IUserData> {\r\n    if ( !environment.production ) {\r\n      const userDataJSON = localStorage.getItem('userData');\r\n      let toReturn = null;\r\n      if ( userDataJSON ) {\r\n        toReturn = JSON.parse(userDataJSON);\r\n      }\r\n      return of(toReturn);\r\n    }\r\n\r\n    const body = new HttpParams()\r\n      .set('action', 'get_user_data');\r\n    return this.http.post<IUserData>('/wp-admin/admin-ajax.php', body.toString(), {\r\n      headers: new HttpHeaders()\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n    });\r\n  }\r\n\r\n  saveUserData(userData: IUserData): Observable<any> {\r\n    if ( !environment.production ) {\r\n      return of(localStorage.setItem('userData', JSON.stringify(userData)));\r\n    }\r\n    let body = new HttpParams()\r\n      .set('action', 'save_user_data');\r\n    Object.keys(userData).forEach(key => {\r\n      body = body.set(`userData[${key}]`, userData[key]);\r\n    });\r\n    return this.http.post('/wp-admin/admin-ajax.php', body.toString(), {\r\n      headers: new HttpHeaders()\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n    });\r\n  }\r\n\r\n  getDiet(date: Moment): Observable<IDiet> {\r\n    if ( !environment.production ) {\r\n      const dietsJSON = localStorage.getItem('diets');\r\n      let toReturn = null;\r\n      if ( dietsJSON ) {\r\n        const diets: IDiet[] = JSON.parse(dietsJSON);\r\n        toReturn = diets.find(x => x.date === date.format('YYYY-MM-DD'));\r\n      }\r\n      return of(toReturn);\r\n    }\r\n    const body = new HttpParams()\r\n      .set('action', 'get_date_diet')\r\n      .set('date', date.format('YYYY-MM-DD'));\r\n    return this.http.post<ServerDiet>('/wp-admin/admin-ajax.php', body.toString(), {\r\n      headers: new HttpHeaders()\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n    }).pipe(\r\n      map((serverDiet) => {\r\n        return this.serverDietToIDiet(serverDiet);\r\n      })\r\n    );\r\n  }\r\n\r\n  private getLocalStorageDiets(): IDiet[] {\r\n    const dietsJSON = localStorage.getItem('diets');\r\n    let toReturn: IDiet[] = [];\r\n    if ( dietsJSON ) {\r\n      toReturn = JSON.parse(dietsJSON);\r\n    }\r\n    return toReturn;\r\n  }\r\n\r\n  private saveLocalStorageDiets(diets: IDiet[]) {\r\n    localStorage.setItem('diets', JSON.stringify(diets));\r\n  }\r\n\r\n  private toSaveDiet(diet: IDiet): any {\r\n    const serverDiet = this.dietToServerDiet(diet);\r\n    return {\r\n      ...serverDiet,\r\n      meals: serverDiet.meals.map(meal => {\r\n        return {\r\n          ...meal, productLines: meal.productLines.map(productLine => {\r\n            const { id, product, amount, createdAt } = productLine;\r\n            return { id, amount, product: { id: product ? product.id : null }, createdAt };\r\n          })\r\n        };\r\n      })\r\n    };\r\n  }\r\n\r\n  private dietToServerDiet(diet: IDiet): ServerDiet {\r\n    return {\r\n      id: diet.id, date: diet.date, meals: Object.keys(diet.meals).map(key => {\r\n        const currentMeal = diet.meals[key];\r\n        return {\r\n          id: currentMeal.id,\r\n          description: currentMeal.description,\r\n          createdAt: currentMeal.createdAt,\r\n          productLines: Object.keys(currentMeal.productLines).map(plKey => {\r\n            return currentMeal.productLines[plKey];\r\n          })\r\n        };\r\n      })\r\n    };\r\n  }\r\n\r\n  private serverDietToIDiet(diet: ServerDiet): IDiet {\r\n    if ( !diet ) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      id: diet.id,\r\n      date: diet.date,\r\n      meals: diet.meals.reduce((mealDict, meal) => {\r\n        mealDict[meal.id] = {\r\n          id: meal.id,\r\n          description: meal.description,\r\n          createdAt: meal.createdAt,\r\n          productLines: meal.productLines.reduce((previousValue, currentValue) => {\r\n            previousValue[currentValue.id] = currentValue;\r\n            return previousValue;\r\n          }, {})\r\n        };\r\n        return mealDict;\r\n      }, {})\r\n    };\r\n  }\r\n\r\n  saveDiet(diet: IDiet): Observable<any> {\r\n    if ( !environment.production ) {\r\n      const diets = this.getLocalStorageDiets();\r\n      const foundDietIdx = diets.findIndex(x => x.date === diet.date);\r\n      if ( foundDietIdx !== -1 ) {\r\n        const copy = diets.slice();\r\n        copy[foundDietIdx] = diet;\r\n        return of(this.saveLocalStorageDiets(copy));\r\n      }\r\n      return of(this.saveLocalStorageDiets([...diets, diet]));\r\n    }\r\n\r\n    // we need to flatten the objects sent to the server....cause we can't send JSON ...for some reason\r\n    const body = new HttpParams()\r\n      .set('action', 'save_date_diet')\r\n      .set('diet', JSON.stringify(this.toSaveDiet(diet)));\r\n    return this.http.post<{ status: string, dietId: number | string }>('/wp-admin/admin-ajax.php', body.toString(), {\r\n      headers: new HttpHeaders()\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n    });\r\n  }\r\n\r\n  getPDF(date: any) {\r\n    if ( !environment.production ) {\r\n      return of(null);\r\n    }\r\n    const body = new HttpParams()\r\n      .set('action', 'get_pdf')\r\n      .set('date', date);\r\n    const headers = new HttpHeaders().set('Content-Type', 'application/x-www-form-urlencoded');\r\n    return this.http.post(`/wp-admin/admin-ajax.php?cache=${generateUUID()}`, body.toString(), {\r\n      headers,\r\n      responseType: 'blob'\r\n    }).pipe(tap(blob => {\r\n      const a = document.createElement('a');\r\n      document.body.appendChild(a);\r\n      a.style.display = 'none';\r\n      const url = window.URL.createObjectURL(blob);\r\n      a.href = url;\r\n      a.download = 'dietario.pdf';\r\n      a.click();\r\n      window.URL.revokeObjectURL(url);\r\n    }));\r\n  }\r\n\r\n\r\n  getDietsbyDate(year: number ,  month: number): Observable<ServerDiet[]> {\r\n    if ( !environment.production ) {\r\n      const dietsJSON = localStorage.getItem('diets');\r\n      let toReturn = null;\r\n      // if ( dietsJSON ) {\r\n      //   const diets: IDiet[] = JSON.parse(dietsJSON);\r\n      //   toReturn = diets.find(x => x.date === date.format('YYYY-MM-DD'));\r\n      // }\r\n      return of(toReturn);\r\n    }\r\n    const body = new HttpParams()\r\n      .set('action', 'get_diets_date')\r\n      .set('month', year.toString())\r\n      .set('year', month.toString());\r\n      \r\n    return this.http.post<ServerDiet[]>('/wp-admin/admin-ajax.php', body.toString(), {\r\n      headers: new HttpHeaders()\r\n        .set('Content-Type', 'application/x-www-form-urlencoded')\r\n    });\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\n\r\nconst routes: Routes = [];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import {Component, OnDestroy, OnInit, TemplateRef} from '@angular/core';\r\nimport {FormBuilder, FormControl, FormGroup} from '@angular/forms';\r\nimport {select, Store} from '@ngrx/store';\r\nimport * as jsPDF from 'jspdf';\r\nimport {UserOptions} from 'jspdf-autotable';\r\nimport 'jspdf-autotable';\r\nimport * as  moment from 'moment';\r\nimport {Moment} from 'moment';\r\nimport {AccordionPanelComponent, BsModalRef, BsModalService} from 'ngx-bootstrap';\r\nimport {Observable, Subject, Subscriber, Subscription} from 'rxjs';\r\nimport {debounceTime, distinctUntilChanged, filter, startWith, switchMap, tap} from 'rxjs/operators';\r\nimport {v4 as generateUUID} from 'uuid';\r\nimport {Calculator} from '../utils/calculator';\r\nimport {ApiService, IDiet, IMeal, IProduct, ICustomerProduct, IProductLine, IUserData} from './api.service';\r\nimport {ProductInfoModalComponent} from './product-info-modal/product-info-modal.component';\r\nimport {ProductSearchSelectModalComponent} from './product-search-select-modal/product-search-select-modal.component';\r\nimport * as appActions from './store/app.actions';\r\nimport {requestGetPDF} from './store/app.actions';\r\nimport {\r\n  selectDietRemainingCalories,\r\n  selectDietRemainingCarbsGrams,\r\n  selectDietRemainingFatGrams,\r\n  selectDietRemainingFiberGrams,\r\n  selectDietRemainingProteinGrams\r\n} from './store/app.selectors';\r\nimport * as dietActions from './store/diet/diet.actions';\r\nimport {\r\n  addMeal,\r\n  addProductLine,\r\n  changeProductLineAmount,\r\n  changeProductLineProduct,\r\n  deleteMeal,\r\n  deleteProductLine,\r\n  updateMealDescription\r\n} from './store/diet/diet.actions';\r\nimport * as dietSelectors from './store/diet/diet.selectors';\r\nimport * as userDataActions from './store/userData/userData.actions';\r\nimport * as userDataSelectors from './store/userData/userData.selectors';\r\n\r\n// jquery\r\nimport * as $ from 'jquery';\r\nimport { CalendarEvent, CalendarEventAction, CalendarView } from 'angular-calendar';\r\nimport { endOfDay, isSameDay, isSameMonth, startOfDay } from 'date-fns';\r\nimport { EventColor } from 'calendar-utils';\r\n\r\ninterface JsPDFWithPlugin extends jsPDF {\r\n  autoTable: (options: UserOptions) => jsPDF;\r\n}\r\n\r\nconst colors: Record<string, EventColor> = {\r\n  red: {\r\n    primary: '#843B94',\r\n    secondary: '#FAE3E3',\r\n  }\r\n};\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent implements OnInit, OnDestroy {\r\n  title = 'angular-test';\r\n\r\n  storeCustomerProductErrors = [];\r\n  showSuccessMessage = false;\r\n  blockStoreButton = false;\r\n\r\n  diet$: Observable<IDiet>;\r\n  userData$: Observable<IUserData>;\r\n  currentDate: moment.Moment;\r\n  productFind$: any;\r\n  onDateChanged$: Subject<Moment> = new Subject<Moment>();\r\n  currentSearch: any;\r\n  modalRef: BsModalRef;\r\n  toEditMeal: IMeal;\r\n  toEditCustomerProduct: ICustomerProduct;\r\n  collapseCustomerDetails: any;\r\n  private toEditDiet: IDiet;\r\n  addingMeal: boolean;\r\n  addingCustomerProduct: boolean;\r\n  userDataForm: FormGroup;\r\n  bodyMassIndex$: Observable<null | number>;\r\n  subscriptions = new Subscription();\r\n  leanBodyMass$: Observable<null | number>;\r\n  leanBodyMassIndex$: Observable<null | number>;\r\n  goalCalories$: Observable<number>;\r\n  proteinKCal$: Observable<number>;\r\n  fatKCal$: Observable<number>;\r\n  carbsKCal$: Observable<number>;\r\n  remainingKCal$: Observable<number>;\r\n  remainingProteinGrams$: Observable<number>;\r\n  proteinGrams$: Observable<number>;\r\n  fatGrams$: Observable<number>;\r\n  fiberGrams$: Observable<number>;\r\n  carbsGrams$: Observable<number>;\r\n  remainingFatGrams$: Observable<number>;\r\n  remainingFiberGrams$: Observable<number>;\r\n  remainingCarbsGrams$: Observable<number>;\r\n\r\n  keyValueTrackFunction(index, item) {\r\n    if (!item) {\r\n      return null;\r\n    }\r\n    return item.key;\r\n  }\r\n\r\n  // --------------------------\r\n  showCalendar: boolean = false;\r\n  view: CalendarView = CalendarView.Month;\r\n  CalendarView = CalendarView;\r\n  viewDate: Date = new Date();\r\n\r\n  actions: CalendarEventAction[] = [\r\n    {\r\n      label: '<i class=\"fas fa-fw fa-pencil-alt\"></i>',\r\n      a11yLabel: 'Edit',\r\n      onClick: ({ event }: { event: CalendarEvent }): void => {\r\n        this.handleEvent('Edited', event);\r\n      },\r\n    },\r\n    {\r\n      label: '<i class=\"fas fa-fw fa-trash-alt\"></i>',\r\n      a11yLabel: 'Delete',\r\n      onClick: ({ event }: { event: CalendarEvent }): void => {\r\n        this.events = this.events.filter((iEvent) => iEvent !== event);\r\n        this.handleEvent('Deleted', event);\r\n      },\r\n    },\r\n  ];\r\n\r\n  events: CalendarEvent[] = [];\r\n\r\n  activeDayIsOpen: boolean = true;\r\n  refresh = new Subject<void>();\r\n\r\n  constructor(\r\n    private apiSvc: ApiService,\r\n    private modalSvc: BsModalService,\r\n    private store: Store,\r\n    private formBuilder: FormBuilder,\r\n  ) {\r\n\r\n    this.currentDate = moment();\r\n\r\n    this.userDataForm = this.formBuilder.group({\r\n      gender: new FormControl(''),\r\n      age: new FormControl(''),\r\n      weight: new FormControl(''),\r\n      height: new FormControl(''),\r\n      activityIndex: new FormControl(''),\r\n      bodyFat: new FormControl(''),\r\n      goal: new FormControl(''),\r\n      proteinRatio: new FormControl(''),\r\n      carbsRatio: new FormControl(''),\r\n      fatRatio: new FormControl(''),\r\n    });\r\n\r\n    Object.keys(this.userDataForm.controls).forEach(formControlKey => {\r\n      this.subscriptions.add(\r\n        this.userDataForm.controls[formControlKey].valueChanges.pipe(\r\n          debounceTime(400),\r\n          distinctUntilChanged()\r\n        ).subscribe(value => {\r\n          switch (formControlKey) {\r\n            case'age' :\r\n              this.store.dispatch(userDataActions.updateAge({value}));\r\n              break;\r\n            case 'gender' :\r\n              this.store.dispatch(userDataActions.updateGender({value}));\r\n              break;\r\n            case 'height':\r\n              this.store.dispatch(userDataActions.updateHeight({value}));\r\n              break;\r\n            case 'weight':\r\n              this.store.dispatch(userDataActions.updateWeight({value}));\r\n              break;\r\n            case 'activityIndex':\r\n              this.store.dispatch(userDataActions.updateActivityIndex({value}));\r\n              break;\r\n            case 'bodyFat':\r\n              this.store.dispatch(userDataActions.updateBodyFatPercentage({value}));\r\n              break;\r\n            case 'goal':\r\n              this.store.dispatch(userDataActions.updateGoal({value}));\r\n              break;\r\n            case 'proteinRatio':\r\n              this.store.dispatch(userDataActions.updateProteinRatio({value}));\r\n              break;\r\n            case 'carbsRatio':\r\n              this.store.dispatch(userDataActions.updateCarbsRatio({value}));\r\n              break;\r\n            case 'fatRatio':\r\n              this.store.dispatch(userDataActions.updateFatRatio({value}));\r\n              break;\r\n          }\r\n        }));\r\n    });\r\n\r\n    this.bodyMassIndex$ = this.store.pipe(select(userDataSelectors.selectBodyMassIndex));\r\n    this.leanBodyMass$ = this.store.pipe(select(userDataSelectors.selectLeanBodyMass));\r\n    this.leanBodyMassIndex$ = this.store.pipe(select(userDataSelectors.selectLeanBodyMassIndex));\r\n    this.goalCalories$ = this.store.pipe(select(userDataSelectors.selectGoalCalories));\r\n    this.proteinKCal$ = this.store.pipe(select(userDataSelectors.selectGoalProteinKCal));\r\n    this.fatKCal$ = this.store.pipe(select(userDataSelectors.selectGoalFatKCal));\r\n    this.carbsKCal$ = this.store.pipe(select(userDataSelectors.selectGoalCarbsKCal));\r\n    this.proteinGrams$ = this.store.pipe(select(userDataSelectors.selectGoalProteinGrams));\r\n    this.fatGrams$ = this.store.pipe(select(userDataSelectors.selectGoalFatGrams));\r\n    this.fiberGrams$ = this.store.pipe(select(userDataSelectors.selectGoalFiberGrams));\r\n    this.carbsGrams$ = this.store.pipe(select(userDataSelectors.selectGoalCarbsGrams));\r\n    this.remainingKCal$ = this.store.pipe(select(selectDietRemainingCalories));\r\n    this.remainingProteinGrams$ = this.store.pipe(select(selectDietRemainingProteinGrams));\r\n    this.remainingFatGrams$ = this.store.pipe(select(selectDietRemainingFatGrams));\r\n    this.remainingFiberGrams$ = this.store.pipe(select(selectDietRemainingFiberGrams));\r\n    this.remainingCarbsGrams$ = this.store.pipe(select(selectDietRemainingCarbsGrams));\r\n\r\n\r\n    this.store.dispatch(userDataActions.getUserData());\r\n    this.productFind$ = new Observable((observer: Subscriber<string>) => {\r\n      // Runs on every search\r\n      observer.next(this.currentSearch);\r\n    })\r\n      .pipe(\r\n        switchMap(search => {\r\n          return this.apiSvc.getProducts(search, 10);\r\n        })\r\n      );\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.userData$ = this.store.pipe(\r\n      select(userDataSelectors.selectUserData),\r\n      tap((userData) => {\r\n        this.userDataForm.patchValue(userData, {emitEvent: false});\r\n      })\r\n    );\r\n    this.diet$ = this.store.pipe(select(dietSelectors.selectDiet));\r\n\r\n    this.subscriptions.add(\r\n      this.store.pipe(select(dietSelectors.selectChangesPending), filter(x => !!x)).subscribe(x => {\r\n        this.store.dispatch(dietActions.saveDiet({correlationId: generateUUID()}));\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      this.store.pipe(\r\n        select(userDataSelectors.selectChangesPending),\r\n        tap(x => {\r\n          console.log(x);\r\n        }),\r\n        filter(x => !!x)\r\n      ).subscribe(x => {\r\n        this.store.dispatch(userDataActions.saveUserData({correlationId: generateUUID()}));\r\n      })\r\n    );\r\n\r\n    this.subscriptions.add(\r\n      this.onDateChanged$.pipe(\r\n        startWith(this.currentDate)\r\n      )\r\n        .subscribe(date => {\r\n          this.store.dispatch(dietActions.getDietForDay({date}));\r\n        })\r\n    );\r\n    this.collapseCustomerDetails = '';\r\n  }\r\n\r\n  private modifyDate(amount) {\r\n    this.currentDate = moment(this.currentDate.add(amount, 'days'));\r\n    this.onDateChanged$.next(this.currentDate);\r\n  }\r\n\r\n  nextDate() {\r\n    this.modifyDate(+1);\r\n  }\r\n\r\n  previousDate() {\r\n    this.modifyDate(-1);\r\n  }\r\n\r\n  addMeal(templateRef: TemplateRef<any>) {\r\n    this.modalRef = this.modalSvc.show(templateRef, {class: 'modal-dialog-centered'});\r\n    this.addingMeal = true;\r\n    this.toEditMeal = {id: generateUUID(), description: null, productLines: {}, createdAt: null};\r\n  }\r\n\r\n  updateMealDescription() {\r\n    if (this.addingMeal) {\r\n      this.addingMeal = false;\r\n      this.store.dispatch(addMeal({id: this.toEditMeal.id, description: this.toEditMeal.description}));\r\n    } else {\r\n      this.store.dispatch(updateMealDescription({mealId: this.toEditMeal.id, description: this.toEditMeal.description}));\r\n    }\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  editMeal($event: MouseEvent, meal: IMeal, diet: IDiet, mealEditModal: TemplateRef<any>) {\r\n    $event.stopPropagation();\r\n    this.toEditMeal = {...meal};\r\n    this.addingMeal = false;\r\n    this.modalRef = this.modalSvc.show(mealEditModal);\r\n  }\r\n\r\n  deleteMeal() {\r\n    this.store.dispatch(deleteMeal({mealId: this.toEditMeal.id}));\r\n    this.modalRef.hide();\r\n  }\r\n\r\n  save() {\r\n    this.store.dispatch(appActions.requestSaveData());\r\n  }\r\n\r\n  addProduct($event: MouseEvent, meal: IMeal, diet: IDiet, accordion: AccordionPanelComponent) {\r\n    $event.stopPropagation();\r\n    if (!accordion.isOpen) {\r\n      accordion.isOpen = true;\r\n    }\r\n    this.store.dispatch(addProductLine({mealId: meal.id}));\r\n  }\r\n\r\n  changeProductLine(productLine: IProductLine, meal: IMeal) {\r\n    const modalRef = this.modalSvc.show(ProductSearchSelectModalComponent, {initialState: {product: productLine.product}});\r\n    modalRef.content.onProductSelected = (product) => {\r\n      if (product.id === productLine?.product?.id) {\r\n        return;\r\n      }\r\n      this.store.dispatch(changeProductLineProduct({mealId: meal.id, productLineId: productLine.id, product}));\r\n    };\r\n  }\r\n\r\n  getProductLineInfo(productLine: IProductLine, productKey) {\r\n    return (new Calculator()).getProductLineInfo(productLine, productKey);\r\n  }\r\n\r\n  getDietInfo(diet: IDiet, key: string) {\r\n    return (new Calculator()).getDietInfo(diet, key);\r\n  }\r\n\r\n  getMealInfo(meal: IMeal, key: string) {\r\n    return (new Calculator()).getMealInfo(meal, key);\r\n  }\r\n\r\n  getMealEnergyInfo(meal: IMeal, nutrient: string) {\r\n    return (new Calculator()).getMealEnergyInfo(meal, nutrient);\r\n  }\r\n\r\n  getMealRecommendedIntakePercent(userData: IUserData, meal: IMeal, nutrient: string) {\r\n    return (new Calculator()).getMealRecommendedIntakePercent(userData, meal, nutrient);\r\n  }\r\n\r\n  showInfoModal(templateRef: TemplateRef<any>) {\r\n    this.modalRef = this.modalSvc.show(templateRef);\r\n  }\r\n\r\n  showProductInfoModal(product: IProduct, qty: number) {\r\n    this.modalSvc.show(ProductInfoModalComponent, {initialState: {product, qty}});\r\n  }\r\n\r\n  // added button\r\n  addCustomerProduct(templateRef: TemplateRef<any>) {\r\n    this.blockStoreButton = false;\r\n    this.showSuccessMessage = false;\r\n    this.modalRef = this.modalSvc.show(templateRef, {class: 'modal-dialog-centered'});\r\n    this.addingCustomerProduct = true;\r\n    this.toEditCustomerProduct = {\r\n      id: generateUUID(),\r\n      description: null,\r\n      amount: 100,\r\n      unit: 'gr',\r\n      kCalories: null,\r\n      protein: null,\r\n      carbohydrates: null,\r\n      fat: null,\r\n      vitA: null,\r\n      vitB1: null,\r\n      vitB2: null,\r\n      vitB3: null,\r\n      vitB5: null,\r\n      vitB6: null,\r\n      vitB9: null,\r\n      vitB12: null,\r\n      vitC: null,\r\n      vitD: null,\r\n      vitE: null,\r\n      vitK: null,\r\n      choline: null,\r\n      calcium: null,\r\n      copper: null,\r\n      iron: null,\r\n      magnesium: null,\r\n      manganese: null,\r\n      phosphorus: null,\r\n      potassium: null,\r\n      selenium: null,\r\n      sodium: null,\r\n      zinc: null,\r\n      water: null,\r\n      fiber: null,\r\n      cholesterol: null,\r\n      saturatedFat: null,\r\n      monoUnsaturatedFat: null,\r\n      polyUnsaturatedFat: null,\r\n      glycemicIndex: null,\r\n      comments: null\r\n    };\r\n  }\r\n\r\n  showCustomerProductDetails() {\r\n    this.collapseCustomerDetails = this.collapseCustomerDetails == '' ? 'show' : '';\r\n  }\r\n\r\n  storeCustomerProduct() {\r\n    this.storeCustomerProductErrors = [];\r\n    this.blockStoreButton = true;\r\n    $.ajax({\r\n      url: '/wp-json/cca/v1/customer_food',\r\n      data: JSON.stringify({'item': this.toEditCustomerProduct}),\r\n      headers: {\r\n        'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n      },\r\n      method: 'POST',\r\n      dataType: 'JSON',\r\n      processData: false,\r\n      contentType: 'application/json',\r\n      success: (response) => {\r\n        // console.log('response');\r\n        // console.log(response);\r\n        // console.log('response.errors');\r\n        // console.log(response.errors);\r\n        this.storeCustomerProductErrors = response.errors;\r\n        if (this.storeCustomerProductErrors.length == 0) {\r\n          this.showSuccessMessage = true;\r\n          // to reload data\r\n          this.save(); // candidate\r\n          setTimeout(() => {\r\n            this.modalRef.hide();\r\n          }, 4000);\r\n        }else{\r\n          // on errors found the button must be re-enabled\r\n          this.blockStoreButton = false;\r\n        }\r\n      },\r\n      error: function(http, status, error) {\r\n        console.log('http', http);\r\n        console.log('status', status);\r\n        console.log('error', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  deleteProductLine(productLine: IProductLine, meal: IMeal) {\r\n    this.store.dispatch(deleteProductLine({productLineId: productLine.id, mealId: meal.id}));\r\n  }\r\n\r\n  exportToPDF(diet: IDiet) {\r\n    this.store.dispatch(requestGetPDF({date: diet.date}));\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subscriptions.unsubscribe();\r\n  }\r\n\r\n  changeProductLineAmount(meal: IMeal, productLine: IProductLine, amount: any) {\r\n    this.store.dispatch(changeProductLineAmount({mealId: meal.id, productLineId: productLine.id, amount: +amount}));\r\n  }\r\n\r\n\r\n  public handleEvent(action: string, event: CalendarEvent): void {\r\n    console.log(action, event, \"handleEvent\")\r\n  }\r\n\r\n  public dayClicked({ date, events }: { date: Date; events: CalendarEvent[] }): void {\r\n    console.log(date, \"date??????????????\")\r\n    console.log( moment( date ) )\r\n    this.currentDate = moment( date );\r\n    this.onDateChanged$.next(this.currentDate);\r\n    if (isSameMonth(date, this.viewDate)) {\r\n      if (\r\n        (isSameDay(this.viewDate, date) && this.activeDayIsOpen === true) ||\r\n        events.length === 0\r\n      ) {\r\n        this.activeDayIsOpen = false;\r\n        console.log(false, \"date??????????????\")\r\n\r\n\r\n      } else {\r\n        this.activeDayIsOpen = true;\r\n        console.log(true, \"date??????????????\")\r\n      }\r\n      this.viewDate = date;\r\n    }\r\n  } \r\n\r\n\r\n  public closeOpenMonthViewDay() {\r\n    this.activeDayIsOpen = false;\r\n    console.log( this.viewDate , \"this.viewDate\")\r\n    const month = parseInt(moment(this.viewDate).format(\"M\"));\r\n    const year = parseInt(moment(this.viewDate).format(\"Y\"));\r\n    this.listEventsByMonth(month, year)\r\n  }\r\n\r\n  addEvent(): void {\r\n    this.events = [\r\n      ...this.events\r\n    ];\r\n  }\r\n\r\n\r\n  deleteEvent(eventToDelete: CalendarEvent) {\r\n    this.events = this.events.filter((event) => event !== eventToDelete);\r\n  }\r\n\r\n  setView(view: CalendarView) {\r\n    this.view = view;\r\n  }\r\n\r\n  listEventsByMonth( month: number , year: number): void{\r\n\r\n    console.log( new Date( moment(\"2028-12-20\").toISOString() ))\r\n    console.log(month, year)\r\n\r\n    this.apiSvc.getDietsbyDate( month, year).subscribe(  \r\n      (res) => {\r\n        console.log(res);\r\n\r\n        this.events = [];\r\n        for (let index = 0; index < res.length; index++) {\r\n          const element = res[index];\r\n\r\n          this.events.push({\r\n            title: element.date,\r\n            start: startOfDay(new Date( moment(element.date).toISOString() )),\r\n            end: endOfDay(new Date( moment(element.date).toISOString() )),\r\n            color: colors.red,\r\n            draggable: true,\r\n            resizable: {\r\n              beforeStart: true,\r\n              afterEnd: true,\r\n            },\r\n          },)\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<main id=\"calorieCalculator\"\r\n      class=\"site-main\"\r\n>\r\n  <div class=\"logo-incrusted-update\">\r\n    <img src=\"/wp-content/uploads/2020/09/cropped-Logo-Nutrientrena.png\"\r\n         style=\"max-width: 400px;\r\n         margin: 0 auto;\r\n         width: 100%;\r\n         display: block;\"\r\n    >\r\n  </div>\r\n  <section>\r\n    <div class=\"container-fluid\">\r\n      <div class=\"row primary-bg pt-5 pb-5\">\r\n        <div class=\"col-md-12 text-center\">\r\n          <h1 class=\"font-weight-bold\">DIETARIO</h1>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"container without-lateral-padding\">\r\n\r\n      <div class=\"row\"\r\n           *ngIf=\"userData$| async as userData; else noUserData\"\r\n      >\r\n        <ng-container [formGroup]=\"userDataForm\">\r\n          <!-- <div class=\"col-md-12 text-center\">\r\n            <div class=\"btn-group\">\r\n              <div (click)=\"previousDate()\">\r\n                <i class=\"fas fa-arrow-left fa-2x\"></i>\r\n              </div>\r\n              <div class=\"m-auto\"><h3>{{currentDate|amDateFormat:'DD/MM/YYYY'}}</h3></div>\r\n              <div (click)=\"nextDate()\">\r\n                <i class=\"fas fa-arrow-right fa-2x\"></i>\r\n              </div>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"col-md-12 col-lg-4\">\r\n\r\n            <div class=\"card shadow\">\r\n              <div class=\"card-header\">\r\n              </div>\r\n              <div class=\"card-body\">\r\n                <h4 class=\"card-title mb-3 text-center font-weight-bold\">\r\n                  <span>{{userData.userName}}</span>\r\n                </h4>\r\n                <table class=\"table table-striped table-borderless\"\r\n                       id=\"userDataFields\"\r\n                >\r\n                  <tr>\r\n                    <th>Género</th>\r\n                    <td>\r\n                      <div class=\"form-group\"\r\n                           id=\"genderSection\"\r\n                      >\r\n                        <select name=\"gender\"\r\n                                class=\"form-control\"\r\n                                formControlName=\"gender\"\r\n                        >\r\n                          <option [value]=\"0\">Hombre</option>\r\n                          <option [value]=\"1\">Mujer</option>\r\n                        </select>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Edad</th>\r\n                    <td>\r\n                      <div class=\"form-group\"\r\n                           id=\"ageSection\"\r\n                      >\r\n                        <input type=\"number\"\r\n                               min=\"0\"\r\n                               step=\"1\"\r\n                               name=\"age\"\r\n                               class=\"form-control profile-input\"\r\n                               formControlName=\"age\"\r\n                        >\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Peso (kg)</th>\r\n                    <td>\r\n                      <div class=\"form-group\"\r\n                           id=\"weightSection\"\r\n                      >\r\n                        <input type=\"number\"\r\n                               min=\"0\"\r\n                               step=\"1\"\r\n                               name=\"weight\"\r\n                               class=\"form-control profile-input\"\r\n                               formControlName=\"weight\"\r\n                        >\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n\r\n                  <tr>\r\n                    <th>Altura (cm)</th>\r\n                    <td>\r\n                      <div class=\"form-group\"\r\n                           id=\"heightSection\"\r\n                      >\r\n                        <input type=\"number\"\r\n                               min=\"0\"\r\n                               step=\"1\"\r\n                               name=\"height\"\r\n                               class=\"form-control profile-input\"\r\n                               formControlName=\"height\"\r\n                        />\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Índice de masa corporal</th>\r\n                    <td>\r\n                      {{bodyMassIndex$|async|number:'1.2-2'}}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Índice de Actividad <i class=\"fas fa-info-circle\"\r\n                                               (click)=\"showInfoModal(activityLevelIndexModal)\"\r\n                    ></i></th>\r\n                    <td>\r\n                      <div class=\"form-group\"\r\n                           id=\"activityIndexSection\"\r\n                      >\r\n                        <select name=\"activityIndex\"\r\n                                formControlName=\"activityIndex\"\r\n                        >\r\n                          <option [value]=\"1.200\">1.200</option>\r\n                          <option [value]=\"1.375\">1.375</option>\r\n                          <option [value]=\"1.550\">1.550</option>\r\n                          <option [value]=\"1.650\">1.650</option>\r\n                          <option [value]=\"1.725\">1.725</option>\r\n                          <option [value]=\"1.900\">1.900</option>\r\n                        </select>\r\n                        <span></span>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Grasa Corporal (%)\r\n                      <i class=\"fas fa-info-circle\"\r\n                         (click)=\"showInfoModal(bodyFatPercentageModal)\"\r\n                      ></i>\r\n                    </th>\r\n                    <td id=\"bodyFatSection\">\r\n                      <input type=\"number\"\r\n                             class=\"form-control profile-input\"\r\n                             min=\"0\"\r\n                             max=\"100\"\r\n                             name=\"bodyFat\"\r\n                             formControlName=\"bodyFat\"\r\n                      >\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Masa Corporal Magra (kg)</th>\r\n                    <td>{{leanBodyMass$ |async}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Índice de Masa Corporal Magra</th>\r\n                    <td>{{leanBodyMassIndex$|async|number:'1.2-2'}}</td>\r\n                  </tr>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div class=\"card mt-3 shadow\">\r\n              <div class=\"card-header\">\r\n              </div>\r\n              <div class=\"card-body\"\r\n                   id=\"goalDataFields\"\r\n              >\r\n                <h4 class=\"card-title mt-3 mb-3 text-center\">\r\n                  Objetivo: {{goalCalories$|async|number:'1.0-0'}}\r\n                  kcal <i class=\"fas fa-info-circle\"\r\n                                               (click)=\"showInfoModal(macronutrientesModal)\"\r\n                    ></i>\r\n                </h4>\r\n                <div class=\"goalSection\">\r\n                  <select name=\"goal\"\r\n                          formControlName=\"goal\"\r\n                  >\r\n                    <option value=\"1\">Mantenimiento</option>\r\n                    <option value=\"2\">Perder Grasa (PG)</option>\r\n                    <option value=\"3\">Ganar Musculatura (GM)</option>\r\n                  </select>\r\n                </div>\r\n                <table class=\"table table-striped table-borderless\">\r\n                  <tr>\r\n                    <th>Nutrientes</th>\r\n                    <th>(g/Kg)</th>\r\n                    <th>kcal</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Proteína</th>\r\n                    <td>\r\n                      <input style=\"width: 6em\"\r\n                             type=\"number\"\r\n                             min=\"0\"\r\n                             step=\"0.01\"\r\n                             name=\"proteinRatio\"\r\n                             formControlName=\"proteinRatio\"\r\n                      >\r\n                    </td>\r\n                    <td>{{proteinKCal$ | async|number:'1.0-0'}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Carbs</th>\r\n                    <td>\r\n                      <input style=\"width: 6em\"\r\n                             type=\"number\"\r\n                             min=\"0\"\r\n                             step=\"0.01\"\r\n                             name=\"carbsRatio\"\r\n                             formControlName=\"carbsRatio\"\r\n                      >\r\n                    </td>\r\n                    <td>{{carbsKCal$|async|number:'1.0-0'}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Grasa</th>\r\n                    <td>\r\n                      <input style=\"width: 6em\"\r\n                             type=\"number\"\r\n                             min=\"0\"\r\n                             step=\"0.01\"\r\n                             name=\"fatRatio\"\r\n                             formControlName=\"fatRatio\"\r\n                      >\r\n                    </td>\r\n                    <td>{{fatKCal$ |async|number:'1.0-0'}}</td>\r\n                  </tr>\r\n\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </ng-container>\r\n        <div class=\"col-md-12 col-lg-8 right-data-container\">\r\n          <div class=\"card shadow\"\r\n               *ngIf=\"diet$|async as diet\"\r\n          >\r\n\r\n          <div>\r\n            <div class=\"btn-group\" style=\"width: auto;margin: 0 0 20px;\">\r\n              <!-- <button type=\"button\" class=\"btn btn-primary\" style=\"background-color: #843B94;\">Middle</button> -->\r\n              <button type=\"button\" class=\"btn btn-primary px-5 py-3\" style=\"background-color: #843B94;\" (click)=\"showCalendar = !showCalendar\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 448 512\" width=\"25\" height=\"25\"><path fill=\"#FFF\" d=\"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z\"/></svg>\r\n              </button>\r\n            </div>\r\n            \r\n          </div>\r\n\r\n          <div *ngIf=\"showCalendar\">\r\n            <div class=\"row text-center align-items-center\">\r\n              <div class=\"col-md-6\">\r\n                <div class=\"btn-group w-50\">\r\n                  <div\r\n                    class=\"btn btn-primary\" style=\"background-color: #843B94;\"\r\n                    mwlCalendarPreviousView\r\n                    [view]=\"view\"\r\n                    [(viewDate)]=\"viewDate\"\r\n                    (viewDateChange)=\"closeOpenMonthViewDay()\"\r\n                  >\r\n                    Anterior\r\n                  </div>\r\n                  <div\r\n                    class=\"btn btn-outline-secondary\"\r\n                    mwlCalendarToday\r\n                    [(viewDate)]=\"viewDate\"\r\n                  >\r\n                    Hoy\r\n                  </div>\r\n                  <div\r\n                    class=\"btn btn-primary\" style=\"background-color: #843B94;\"\r\n                    mwlCalendarNextView\r\n                    [view]=\"view\"\r\n                    [(viewDate)]=\"viewDate\"\r\n                    (viewDateChange)=\"closeOpenMonthViewDay()\"\r\n                  >\r\n                    Siguiente\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-6\">\r\n                <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'es' }}</h3>\r\n              </div>\r\n            </div>\r\n            <div [ngSwitch]=\"view\">\r\n              <mwl-calendar-month-view\r\n                *ngSwitchCase=\"CalendarView.Month\"\r\n                [viewDate]=\"viewDate\"\r\n                [events]=\"events\"\r\n                [refresh]=\"refresh\"\r\n                [activeDayIsOpen]=\"activeDayIsOpen\"\r\n                (dayClicked)=\"dayClicked($event.day)\"\r\n                (eventClicked)=\"handleEvent('Clicked', $event.event)\"\r\n              >\r\n              </mwl-calendar-month-view>\r\n            </div>\r\n            \r\n          </div>\r\n\r\n\r\n            <div class=\"card-header d-flex flex-column\">\r\n              <div class=\"col-md-12 text-center\">\r\n                <div class=\"btn-group\" style=\"margin: 1em auto;\">\r\n                  <div class=\"m-auto\"><h3 class=\"text-white\">{{currentDate|amDateFormat:'DD/MM/YYYY'}}</h3></div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"d-flex flex-row\">\r\n                <div style=\"flex-grow: 1\">\r\n                  <button class=\"btn btn-outline-primary\"\r\n                          (click)=\"addMeal(mealEditModal)\"\r\n                  >Añadir Comida\r\n                  </button>\r\n                </div>\r\n                <div style=\"flex-grow: 1; text-align: center;\">\r\n                  <button class=\"btn btn-outline-primary\"\r\n                          (click)=\"addCustomerProduct(customerProductEditModal)\"\r\n                  >Crear nuevo alimento\r\n                  </button>\r\n                </div>\r\n                <div style=\"flex-grow: 1; text-align: right;\">\r\n                  <button class=\"btn btn-outline-primary ml-1\"\r\n                          (click)=\"exportToPDF(diet)\"\r\n                  >Exportar a PDF\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div>\r\n\r\n              </div>\r\n            </div>\r\n            <div class=\"card-header d-flex flex-column\">\r\n              <div class=\"d-flex flex-row\">\r\n                <table style=\"width: 100%\" class=\"top-table\">\r\n                  <thead>\r\n                  <tr>\r\n                    <th></th>\r\n                    <th>Calorías</th>\r\n                    <th>Proteína (g)</th>\r\n                    <th>Carbohidratos (g)</th>\r\n                    <th>Grasas (g)</th>\r\n                    <th>Fibra (g)</th>\r\n                  </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  <tr>\r\n                    <th>Objetivo</th>\r\n                    <th>{{goalCalories$|async|number:'1.0-0'}}</th>\r\n                    <th>{{proteinGrams$|async|number:'1.0-0'}}</th>\r\n                    <th>{{carbsGrams$|async|number:'1.0-0'}}</th>\r\n                    <th>{{fatGrams$|async|number:'1.0-0'}}</th>\r\n                    <th>{{fiberGrams$|async|number:'1.0-0'}}</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Consumido</th>\r\n                    <th>{{getDietInfo(diet, 'kCalories')|number:'1.0-0'}}</th>\r\n                    <th>{{getDietInfo(diet, 'protein')|number:'1.0-0'}}</th>\r\n                    <th>{{getDietInfo(diet, 'carbohydrates')|number:'1.0-0'}}</th>\r\n                    <th>{{getDietInfo(diet, 'fat')|number:'1.0-0'}}</th>\r\n                    <th>{{getDietInfo(diet, 'fiber')|number:'1.0-0'}}</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th>Restante</th>\r\n                    <th>{{remainingKCal$|async|number:'1.0-0'}}</th>\r\n                    <th>{{remainingProteinGrams$|async|number:'1.0-0'}}</th>\r\n                    <th>{{remainingCarbsGrams$|async|number:'1.0-0'}}</th>\r\n                    <th>{{remainingFatGrams$|async|number:'1.0-0'}}</th>\r\n                    <th>{{remainingFiberGrams$|async|number:'1.0-0'}}</th>\r\n                  </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-body foods-card\">\r\n              <accordion [isAnimated]=\"true\"\r\n                         closeOthers=\"true\"\r\n              >\r\n                <accordion-group\r\n                  *ngFor=\"let meal of diet.meals|keyvalue|keyValueSortBy:'asc':'createdAt';trackBy: keyValueTrackFunction\"\r\n                  #accordionGroup\r\n                >\r\n                  <div accordion-heading\r\n                       class=\"accordion\"\r\n                  >\r\n                    <h5 class=\"float-left\">{{meal.value.description}}</h5>\r\n                    <ul class=\"action-tab\">\r\n                      <li>\r\n                        <i class=\"fas fa-edit edit-meal\"\r\n                           (click)=\"editMeal($event, meal.value, diet, mealEditModal)\"\r\n                        ></i>\r\n                      </li>\r\n                      <li>\r\n                        <button class=\"btn btn-outline-primary\"\r\n                                (click)=\"addProduct($event, meal.value, diet, accordionGroup)\"\r\n                        >Añadir Alimento\r\n                        </button>\r\n\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                  <div>\r\n                    <div class=\"card-body\">\r\n                      <table class=\"table table-striped table-responsive table-borderless\">\r\n                        <tr>\r\n                          <th></th>\r\n                          <th>Producto</th>\r\n                          <th>Cantidad</th>\r\n                          <th>Unidad</th>\r\n                          <th>Kcal</th>\r\n                          <th>Proteína (g)</th>\r\n                          <th>Carbs (g)</th>\r\n                          <th>Grasa (g)</th>\r\n                          <th>Fibra (g)</th>\r\n                          <th></th>\r\n                        </tr>\r\n                        <tr\r\n                          *ngFor=\"let productLine of meal.value.productLines|keyvalue|keyValueSortBy:'asc':'createdAt';trackBy: keyValueTrackFunction \">\r\n                          <td>\r\n                            <i class=\"fas fa-info-circle\"\r\n                               *ngIf=\"productLine.value.product\"\r\n                               (click)=\"showProductInfoModal(productLine.value.product, productLine.value.amount)\"\r\n                            ></i>\r\n                          </td>\r\n                          <td class=\"product\"\r\n                              nowrap=\"nowrap\"\r\n                          >\r\n                            <div class=\"form-group\">\r\n                              <i style=\"margin-right: 5px\"\r\n                                 class=\"fas fa-edit\"\r\n                                 (click)=\"changeProductLine(productLine.value, meal.value)\"\r\n                              ></i>\r\n                              <span *ngIf=\"productLine.value.product as product\">{{product.description}}</span>\r\n\r\n                            </div>\r\n                          </td>\r\n                          <td class=\"amount\"\r\n                              nowrap=\"nowrap\"\r\n                          >\r\n                            <div class=\"form-group\">\r\n                              <input type=\"number\"\r\n                                     class=\"form-control\"\r\n                                     [ngModel]=\"productLine.value.amount\"\r\n                                     (ngModelChange)=\"changeProductLineAmount(meal.value, productLine.value, $event)\"\r\n                              >\r\n                            </div>\r\n                          </td>\r\n                          <td>{{productLine?.value?.product?.unit}}</td>\r\n                          <td>{{getProductLineInfo(productLine.value, 'kCalories')|number:'1.2-2'}}</td>\r\n                          <td>{{getProductLineInfo(productLine.value, 'protein')|number:'1.2-2'}}</td>\r\n                          <td>{{getProductLineInfo(productLine.value, 'carbohydrates')|number:'1.2-2'}}</td>\r\n                          <td>{{getProductLineInfo(productLine.value, 'fat')|number:'1.2-2'}}</td>\r\n                          <td>{{getProductLineInfo(productLine.value, 'fiber')|number:'1.2-2'}}</td>\r\n                          <td>\r\n                            <div class=\"btn btn-outline-danger\"\r\n                                 (click)=\"deleteProductLine(productLine.value, meal.value)\"\r\n                            ><i class=\"fa fa-trash\"></i>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <th colspan=\"4\">Total</th>\r\n                          <th>{{getMealInfo(meal.value, 'kCalories')|number: '1.2-2'}}</th>\r\n                          <th>{{getMealInfo(meal.value, 'protein')|number: '1.2-2'}}</th>\r\n                          <th>{{getMealInfo(meal.value, 'carbohydrates')|number: '1.2-2'}}</th>\r\n                          <th>{{getMealInfo(meal.value, 'fat')|number: '1.2-2'}}</th>\r\n                          <th>{{getMealInfo(meal.value, 'fiber')|number: '1.2-2'}}</th>\r\n                          <th></th>\r\n                        </tr>\r\n                        <tr class=\"striped\">\r\n                          <th colspan=\"5\">Energía %</th>\r\n                          <th>{{getMealEnergyInfo(meal.value, 'protein')|percent: '1.0-0'}}</th>\r\n                          <th>{{getMealEnergyInfo(meal.value, 'carbohydrates')|percent: '1.0-0'}}</th>\r\n                          <th>{{getMealEnergyInfo(meal.value, 'fat')|percent: '1.0-0'}}</th>\r\n                          <th>{{getMealEnergyInfo(meal.value, 'fiber')|percent: '1.0-0'}}</th>\r\n                          <th></th>\r\n                        </tr>\r\n                        <tr>\r\n                          <th colspan=\"4\">% RDA</th>\r\n                          <th>{{getMealRecommendedIntakePercent(userData, meal.value, 'kCalories')|percent:'1.0-0'}}</th>\r\n                          <th>{{getMealRecommendedIntakePercent(userData, meal.value, 'protein')|percent:'1.0-0'}}</th>\r\n                          <th>{{getMealRecommendedIntakePercent(userData, meal.value, 'carbohydrates')|percent:'1.0-0'}}</th>\r\n                          <th>{{getMealRecommendedIntakePercent(userData, meal.value, 'fat')|percent:'1.0-0'}}</th>\r\n                          <th>{{getMealRecommendedIntakePercent(userData, meal.value, 'fiber')|percent:'1.0-0'}}</th>\r\n                          <th></th>\r\n                          <th></th>\r\n                        </tr>\r\n                      </table>\r\n                    </div>\r\n                  </div>\r\n                </accordion-group>\r\n\r\n              </accordion>\r\n\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <ng-template #noUserData>\r\n        <div class=\"row\">\r\n          Please Login to continue\r\n        </div>\r\n      </ng-template>\r\n    </div>\r\n  </section>\r\n\r\n  <!-- Edit Meal Modal -->\r\n  <ng-template #mealEditModal>\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\"\r\n            id=\"exampleModalLongTitle\"\r\n        >Comida</h5>\r\n        <button type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n                (click)=\"modalRef.hide()\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"form-group\">\r\n          <input type=\"text\"\r\n                 class=\"form-control\"\r\n                 [(ngModel)]=\"toEditMeal.description\"\r\n          >\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\"\r\n                class=\"btn btn-outline-danger float-left\"\r\n                *ngIf=\"!addingMeal\"\r\n                (click)=\"deleteMeal()\"\r\n        >Eliminar\r\n        </button>\r\n        <button type=\"button\"\r\n                class=\"btn btn-primary\"\r\n                [disabled]=\"!toEditMeal.description\"\r\n                (click)=\"updateMealDescription()\"\r\n        >Guardar\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n  <!-- Edit CustomerProduct Modal -->\r\n  <ng-template #customerProductEditModal>\r\n    <div class=\"modal-content modal-customer-product\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalLongTitle\">Crear nuevo alimento</h5>\r\n        <button type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n                (click)=\"modalRef.hide()\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"modal-body\">\r\n        <!-- start of form group -->\r\n        <div class=\"form-group\">\r\n          <!--          start of form row-->\r\n          <div class=\"form-row\">\r\n            <div class=\"col\">\r\n              <input type=\"text\"\r\n                     placeholder=\"Nombre\"\r\n                     class=\"form-control\"\r\n                     [(ngModel)]=\"toEditCustomerProduct.description\"\r\n              >\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Cantidad\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.amount\"\r\n                >\r\n                <div class=\"input-group-append\">\r\n                  <span class=\"input-group-text\">gr</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!--          end of form row-->\r\n\r\n          <!-- start of form row-->\r\n          <div class=\"form-row\">\r\n            <div class=\"col\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Proteínas\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.protein\"\r\n                >\r\n                <div class=\"input-group-append\">\r\n                  <span class=\"input-group-text\">gr</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Carbohidratos\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.carbohydrates\"\r\n                >\r\n                <div class=\"input-group-append\">\r\n                  <span class=\"input-group-text\">gr</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- end of form row-->\r\n\r\n          <!-- start of form row-->\r\n          <div class=\"form-row\">\r\n            <div class=\"col\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Grasas\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.fat\"\r\n                >\r\n                <div class=\"input-group-append\">\r\n                  <span class=\"input-group-text\">gr</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"col\">\r\n              <div class=\"input-group\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Kilocalorías\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.kCalories\"\r\n                >\r\n                <div class=\"input-group-append\">\r\n                  <span class=\"input-group-text\">gr</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n\r\n          <!-- start of form row-->\r\n          <div class=\"form-row\">\r\n            <div class=\"col\">\r\n              <textarea class=\"form-control\" placeholder=\"Comentarios\"\r\n                        [(ngModel)]=\"toEditCustomerProduct.comments\"\r\n                        rows=\"2\">\r\n              </textarea>\r\n            </div>\r\n          </div>\r\n          <!-- end of form row-->\r\n\r\n          <button type=\"button\"\r\n                  (click)=\"showCustomerProductDetails()\"\r\n                  id=\"toggle-details\"\r\n                  class=\"btn btn-outline-secondary btn-block\"\r\n                  data-toggle=\"collapse\"\r\n                  data-target=\"#collapseDetails\"\r\n                  aria-expanded=\"false\" aria-controls=\"collapseDetails\"\r\n\r\n          >Detalles nutricionales\r\n          </button>\r\n          <!-- collapse start -->\r\n          <div class=\"collapse\" id=\"collapseDetails\"\r\n               [class]=\"collapseCustomerDetails\"\r\n          >\r\n            <p> Si conoce los siguientes datos del alimento que esta ingresando, llene los siguientes campos, de lo\r\n              contrario, deje en blanco\r\n            </p>\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit A\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitA\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-1\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB1\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-2\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB2\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-3\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB3\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-5\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB5\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-6\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB6\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-9\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB9\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit B-12\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitB12\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit C\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitC\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit D\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitD\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit E\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitE\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Vit K\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.vitK\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Colina\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.choline\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Calcio\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.calcium\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Cobre\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.copper\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Hierro\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.iron\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Magnesio\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.magnesium\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Manganeso\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.manganese\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Fósforo\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.phosphorus\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Potasio\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.potassium\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Selenio\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.selenium\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Sodio\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.sodium\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Zinc\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.zinc\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Agua\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.water\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Fibra\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.fiber\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Colesterol\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.cholesterol\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Grasas Sat.\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.saturatedFat\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Grasas Mono Sat.\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.monoUnsaturatedFat\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n\r\n            <!-- start of form row-->\r\n            <div class=\"form-row\">\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Grasas Poli Sat.\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.polyUnsaturatedFat\"\r\n                >\r\n\r\n              </div>\r\n              <div class=\"col\">\r\n                <input type=\"text\"\r\n                       placeholder=\"Índice Glicémico\"\r\n                       class=\"form-control\"\r\n                       [(ngModel)]=\"toEditCustomerProduct.glycemicIndex\"\r\n                >\r\n              </div>\r\n            </div>\r\n            <!-- end of form row-->\r\n          </div>\r\n          <!-- collapse end -->\r\n        </div>\r\n        <!-- end of form group-->\r\n      </div>\r\n      <!--end of modal body-->\r\n\r\n      <!-- start of modal-footer -->\r\n      <div class=\"modal-footer\">\r\n        <div class=\"row errors\" *ngIf=\"storeCustomerProductErrors.length > 0\" style=\"flex-grow:1\">\r\n          <div class=\"col col-xs-12\">\r\n            <div *ngFor=\"let error of storeCustomerProductErrors; let i = index\">\r\n              {{error}}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"alert alert-success\" role=\"alert\" *ngIf=\"showSuccessMessage\">\r\n          El alimento ha sido guardado, ya puede usarlo en sus comidas\r\n        </div>\r\n        <div style=\"display:flex;width:100%;\">\r\n          <button type=\"button\" class=\"btn btn-light\"\r\n                  (click)=\"modalRef.hide()\"\r\n                  style=\"flex-grow:1\"\r\n          >\r\n            Cancelar\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-primary\"\r\n                  (click)=\"storeCustomerProduct()\"\r\n                  [disabled]=\"blockStoreButton\"\r\n                  style=\"flex-grow:1\"\r\n          >\r\n            Guardar\r\n          </button>\r\n        </div>\r\n      </div>\r\n      <!-- end of modal footer -->\r\n\r\n    </div>\r\n    <!-- end of modal-content-->\r\n  </ng-template>\r\n\r\n  <!-- Body Fat Modal -->\r\n  <ng-template #bodyFatPercentageModal>\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\"\r\n            id=\"bodyFatPercentageTitle\"\r\n        >Grasa Coporal (%)</h5>\r\n        <button type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n                (click)=\"modalRef.hide()\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <img src=\"./assets/body-fat.png\"\r\n             class=\"img-fluid\"\r\n             alt=\"\"\r\n        >\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n  <!-- Activity Level Index Modal -->\r\n  <ng-template\r\n    #activityLevelIndexModal\r\n  >\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\"\r\n            id=\"activityLevelIndexTitle\"\r\n        >Índice de Nivel de Actividad</h5>\r\n        <button type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n                (click)=\"modalRef.hide()\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <table class=\"table table-striped table-responsive table-borderless\">\r\n          <tr>\r\n            <th>Nivel Actividad</th>\r\n            <th>Es un valor entre 1.2 y 1.9 usado para calcular tu nivel de calorías de mantenimiento\r\n              (Mantenimiento = BMR x nivel de actividad).\r\n            </th>\r\n          </tr>\r\n          <tr>\r\n            <td>1.200</td>\r\n            <td>Sedentaria: sin actividad física. Trabajo de oficina.</td>\r\n          </tr>\r\n          <tr>\r\n            <td>1.375</td>\r\n            <td>Ligera: ejercicios leves. 1-3 días a la semana.</td>\r\n          </tr>\r\n          <tr>\r\n            <td>1.550</td>\r\n            <td>Moderada: ejercicios moderados. 3-5 días a la semana.</td>\r\n          </tr>\r\n          <tr>\r\n            <td>1.650</td>\r\n            <td>Intensa: Programa de entrenamiento con intenso con pesas. / 4-5 días a la semana.</td>\r\n          </tr>\r\n          <tr>\r\n            <td>1.725</td>\r\n            <td>Muy Activa: Ejercicios intensos. Deporte 6-7 días a la semana.</td>\r\n          </tr>\r\n          <tr>\r\n            <td>1.900</td>\r\n            <td>Extra: Fuerte y prolongado ejercicio diario. Deporte + entrenamiento físico.</td>\r\n          </tr>\r\n\r\n        </table>\r\n      </div>\r\n\r\n    </div>\r\n  </ng-template>\r\n\r\n\r\n  <ng-template\r\n    #macronutrientesModal\r\n  >\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\"\r\n            id=\"activityLevelIndexTitle\"\r\n        >Distribución de macronutrientes</h5>\r\n        <button type=\"button\"\r\n                class=\"close\"\r\n                data-dismiss=\"modal\"\r\n                aria-label=\"Close\"\r\n                (click)=\"modalRef.hide()\"\r\n        >\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <p>Importante: Dejar los valores de forma predeterminada para tener una dieta equilibrada. Si cambias de objetivo, simplemente con seleccionarlo, los valores de los macros se cambiarán de forma a automática.</p>\r\n        <b>Valores recomendados para dieta equilibrada:</b>\r\n        <ul>\r\n          <li>Proteína: Poner 2</li>\r\n          <li>Carbohidratos: (dejarlo automático)</li>\r\n          <li>Grasas: Poner 1</li>\r\n        </ul>\r\n        <p>Nota: Si quieres modificar algún macronutriente a tu gusto puedes cambiarlo y los demás se modificarán automáticamente para compensar.</p>\r\n      </div>\r\n\r\n    </div>\r\n  </ng-template>\r\n\r\n  <!-- Product Info Modal -->\r\n  <ng-template class=\"modal fade\"\r\n               id=\"productThreeModal\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\"\r\n         role=\"document\"\r\n    >\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\">Apple</h5>\r\n          <button type=\"button\"\r\n                  class=\"close\"\r\n                  data-dismiss=\"modal\"\r\n                  aria-label=\"Close\"\r\n          >\r\n            <span aria-hidden=\"true\">&times;</span>\r\n          </button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <table class=\"table table-striped table-borderless\">\r\n            <tr>\r\n              <th>Protein</th>\r\n              <td>150</td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <th>Carbs</th>\r\n              <td>100</td>\r\n            </tr>\r\n\r\n            <tr>\r\n              <th>Fat</th>\r\n              <td>175</td>\r\n            </tr>\r\n\r\n          </table>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </ng-template>\r\n\r\n</main>\r\n<router-outlet></router-outlet>\r\n","import { APP_BASE_HREF, registerLocaleData } from '@angular/common';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\nimport localeES from '@angular/common/locales/es';\r\nimport { LOCALE_ID, NgModule } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { EffectsModule } from '@ngrx/effects';\r\nimport { StoreModule } from '@ngrx/store';\r\nimport { StoreDevtoolsModule } from '@ngrx/store-devtools';\r\nimport { AccordionModule, AlertModule, ModalModule, TypeaheadModule } from 'ngx-bootstrap';\r\nimport { MomentModule } from 'ngx-moment';\r\nimport { environment } from '../environments/environment';\r\nimport { ApiService } from './api.service';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { ProductInfoModalComponent } from './product-info-modal/product-info-modal.component';\r\nimport { ProductSearchSelectModalComponent } from './product-search-select-modal/product-search-select-modal.component';\r\nimport { KeyValueSortByPipe } from './sort-by.pipe';\r\nimport { AppEffects } from './store/app.effects';\r\nimport { DietEffects } from './store/diet/diet.effects';\r\nimport * as fromDiet from './store/diet/diet.reducer';\r\nimport { UserDataEffects } from './store/userData/userData.effects';\r\nimport * as fromUserData from './store/userData/userData.reducer';\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\r\n\r\nregisterLocaleData(localeES, 'es');\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    ProductSearchSelectModalComponent,\r\n    ProductInfoModalComponent,\r\n    KeyValueSortByPipe,\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    AppRoutingModule,\r\n    BrowserAnimationsModule,\r\n    AccordionModule.forRoot(),\r\n    AlertModule.forRoot(),\r\n    ModalModule.forRoot(),\r\n    TypeaheadModule.forRoot(),\r\n    FormsModule,\r\n    HttpClientModule,\r\n    MomentModule.forRoot(),\r\n    StoreModule.forRoot({ userData: fromUserData.reducer, diet: fromDiet.reducer }, {}),\r\n    EffectsModule.forRoot([AppEffects, UserDataEffects, DietEffects]),\r\n    StoreDevtoolsModule.instrument(\r\n      { maxAge: 50, logOnly: false }\r\n    ),\r\n    ReactiveFormsModule,\r\n    CalendarModule.forRoot({ provide: DateAdapter, useFactory: adapterFactory })\r\n  ],\r\n  providers: [\r\n    { provide: APP_BASE_HREF, useValue: environment.baseHref },\r\n    { provide: LOCALE_ID, useValue: 'es' },\r\n    ApiService,\r\n  ],\r\n  bootstrap: [AppComponent],\r\n})\r\nexport class AppModule {\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { IProduct } from '../api.service';\r\n\r\n@Component({\r\n  selector: 'app-product-info-modal',\r\n  templateUrl: './product-info-modal.component.html',\r\n  styleUrls: ['./product-info-modal.component.css']\r\n})\r\nexport class ProductInfoModalComponent implements OnInit {\r\n  qty: number;\r\n  get product(): IProduct {\r\n    return this._product;\r\n  }\r\n  set product(value: IProduct) {\r\n    this._product = value;\r\n    this.productInfo = this.getProductInfo();\r\n  }\r\n\r\n  properties = {\r\n    kCalories: 'kCal',\r\n    protein: 'proteínas',\r\n    carbohydrates: 'carbohidratos',\r\n    fat: 'grasas',\r\n    vitA: 'Vitamina A',\r\n    vitB1: 'Vitamina B1',\r\n    vitB2: 'Vitamina B2',\r\n    vitB3: 'Vitamina B3',\r\n    vitB5: 'Vitamina B5',\r\n    vitB6: 'Vitamina B6',\r\n    vitB9: 'Vitamina B9',\r\n    vitB12: 'Vitamina B12',\r\n    vitC: 'Vitamina C',\r\n    vitD: 'Vitamina D',\r\n    vitE: 'Vitamina E',\r\n    vitK: 'Vitamina K',\r\n    choline: 'Colina',\r\n    calcium: 'Calcio',\r\n    copper: 'Cobre',\r\n    iron: 'Hierro',\r\n    magnesium: 'Magnesio',\r\n    manganese: 'Manganeso',\r\n    phosphorus: 'Fósforo',\r\n    potassium: 'Potasio',\r\n    selenium: 'Selenio',\r\n    sodium: 'Sodio',\r\n    zinc: 'Zinc',\r\n    water: 'Agua',\r\n    fiber: 'Fibra',\r\n    cholesterol: 'Colesterol',\r\n    saturatedFat: 'Grasas Saturadas',\r\n    monoUnsaturatedFat: 'Grasas Monoinsaturadas',\r\n    polyUnsaturatedFat: 'Grasas Poliinsaturadas',\r\n    glycemicIndex: 'Índice Glicemico',\r\n    comments: 'Información Adicional',\r\n  };\r\n\r\n  constructor(public bsModalRef: BsModalRef) {\r\n  }\r\n\r\n  private _product: IProduct;\r\n  productInfo: any;\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  getProductInfo() {\r\n    return Object.keys(this.properties).map(key => {\r\n      return {\r\n        description: this.properties[key],\r\n        amount: this._product[key]\r\n      };\r\n    });\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h4 class=\"modal-title\">{{product.description}} | {{ qty }} {{product.unit}}</h4>\r\n  <button type=\"button\"\r\n          class=\"close\"\r\n          aria-label=\"Close\"\r\n          (click)=\"bsModalRef.hide()\"\r\n  >\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n<div class=\"modal-body\">\r\n  <table class=\"table table-striped table-borderless\">\r\n    <tbody>\r\n    <tr *ngFor=\"let infoItem of productInfo\">\r\n      <th>{{infoItem.description}}</th>\r\n      <td>{{ (infoItem.amount / 100) * qty | number : '1.0-3'}}</td>\r\n    </tr>\r\n    </tbody>\r\n  </table>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap';\r\nimport { Observable, of, Subject } from 'rxjs';\r\nimport { debounceTime, map, switchMap } from 'rxjs/operators';\r\nimport { ApiService, IProduct } from '../api.service';\r\n\r\n@Component({\r\n  selector: 'app-product-search-select-modal',\r\n  templateUrl: './product-search-select-modal.component.html',\r\n  styleUrls: ['./product-search-select-modal.component.css']\r\n})\r\nexport class ProductSearchSelectModalComponent implements OnInit {\r\n\r\n  constructor(public bsModalRef: BsModalRef, private apiSvc: ApiService) {\r\n  }\r\n\r\n  public onProductSelected: (product: IProduct) => void;\r\n  public product: IProduct;\r\n  foundItems$: Observable<IProduct[]>;\r\n  searchTermChanged: Subject<string> = new Subject<string>();\r\n\r\n  ngOnInit(): void {\r\n    this.foundItems$ = this.searchTermChanged.pipe(\r\n      debounceTime(500),\r\n      switchMap(searchTerm => {\r\n        if ( !searchTerm ) {\r\n          return of([]);\r\n        }\r\n        return this.apiSvc.getProducts(searchTerm, 20);\r\n      }),\r\n      map(products => {\r\n        if ( this.product ) {\r\n          return products.filter(x => x.id !== this.product.id);\r\n        }\r\n        return products;\r\n      })\r\n    );\r\n  }\r\n\r\n  onProductSearchChange($event: any) {\r\n    this.searchTermChanged.next($event);\r\n  }\r\n\r\n  productSelected(iProduct: IProduct) {\r\n    this.bsModalRef.hide();\r\n    this.onProductSelected(iProduct);\r\n  }\r\n}\r\n","<div class=\"modal-header\">\r\n  <h4 class=\"modal-title pull-left\">Elige un producto</h4>\r\n  <button type=\"button\"\r\n          class=\"close pull-right\"\r\n          aria-label=\"Close\"\r\n          (click)=\"bsModalRef.hide()\"\r\n  >\r\n    <span aria-hidden=\"true\">&times;</span>\r\n  </button>\r\n</div>\r\n<div class=\"modal-body\">\r\n  <div class=\"input-group mb-3\">\r\n    <div class=\"input-group-prepend\">\r\n      <span class=\"input-group-text\"\r\n      ><i class=\"fa fa-search\"></i></span>\r\n    </div>\r\n    <input type=\"text\"\r\n           class=\"form-control\"\r\n           placeholder=\"Buscar productos\"\r\n           aria-label=\"Buscar Productos\"\r\n           name=\"productSearch\"\r\n           ngModel\r\n           (ngModelChange)=\"onProductSearchChange($event)\"\r\n    >\r\n  </div>\r\n  <div style=\"overflow-y: auto; height: 30vh\">\r\n    <ul class=\"list-group\">\r\n      <li *ngIf=\"product\"\r\n          class=\"list-group-item active\"\r\n      >{{product.description}}</li>\r\n      <li *ngFor=\"let iProduct of foundItems$|async\"\r\n          (click)=\"productSelected(iProduct)\"\r\n          class=\"list-group-item\"\r\n      >{{iProduct.description}}</li>\r\n    </ul>\r\n  </div>\r\n\r\n</div>\r\n<div class=\"modal-footer\">\r\n  <button type=\"button\"\r\n          class=\"btn btn-default\"\r\n          (click)=\"bsModalRef.hide()\"\r\n  >Cancelar\r\n  </button>\r\n</div>\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'keyValueSortBy'\r\n})\r\nexport class KeyValueSortByPipe implements PipeTransform {\r\n\r\n  transform(value: { key: number | string, value: any }[], order = '', column: string = ''): unknown {\r\n    if ( !value || order === '' || !order ) {\r\n      return value;\r\n    } // no array\r\n    if ( value.length <= 1 ) {\r\n      return value;\r\n    }\r\n\r\n    if ( !column ) {\r\n      return value.sort((a, b) => {\r\n        if ( order === 'asc' ) {\r\n          return ('' + a.key).localeCompare('' + b.key);\r\n        }\r\n        return ('' + b.key).localeCompare('' + a.key);\r\n      });\r\n    }\r\n\r\n    return value.sort((a, b) => {\r\n      if ( order === 'asc' ) {\r\n        return ('' + a.value[column]).localeCompare('' + b.value[column]);\r\n      }\r\n      return ('' + b.value[column]).localeCompare('' + a.value[column]);\r\n    });\r\n  }\r\n\r\n}\r\n","import { createAction, props } from '@ngrx/store';\r\n\r\nexport const requestGetPDF = createAction('REQUEST_GET_PDF', props<{ date: string }>());\r\nexport const getPDF = createAction('GET_PDF', props<{ date: string, correlationId: string }>());\r\nexport const effectError = createAction('SAVE_ERROR', props<{ error: string }>());\r\nexport const requestSaveData = createAction('REQUEST_SAVE_DATA');\r\nexport const saveData = createAction('SAVE_DATA', props<{ correlationId }>());\r\nexport const saveDataSuccess = createAction('SAVE_DATA_SUCCESS', props<{ correlationId?: string }>());\r\nexport const dietChanged = createAction('DIET_CHANGED');\r\nexport const failedMiserably = createAction('FAILED_MISERABLY');\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { Store } from '@ngrx/store';\r\nimport { combineLatest, EMPTY, of, zip } from 'rxjs';\r\nimport { flatMap, map, mergeMap, switchMap } from 'rxjs/operators';\r\nimport { v4 as generateUUID } from 'uuid';\r\nimport { filterCorrelatedId } from '../../utils/filterCorrelated';\r\nimport { ApiService } from '../api.service';\r\nimport * as appActions from './app.actions';\r\nimport { saveDataSuccess } from './app.actions';\r\nimport { AppState } from './app.state';\r\nimport * as dietActions from './diet/diet.actions';\r\nimport { DietEffects } from './diet/diet.effects';\r\nimport * as userDataActions from './userData/userData.actions';\r\nimport { UserDataEffects } from './userData/userData.effects';\r\n\r\n@Injectable()\r\nexport class AppEffects {\r\n  constructor(\r\n    private actions$: Actions,\r\n    private store$: Store<AppState>,\r\n    private userDataEffects: UserDataEffects,\r\n    private dietEffects: DietEffects,\r\n    private apiSvc: ApiService\r\n  ) {\r\n  }\r\n\r\n  requestSaveData$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(appActions.requestSaveData),\r\n      map(() => {\r\n        return appActions.saveData({ correlationId: generateUUID() });\r\n      })\r\n    )\r\n  );\r\n\r\n  saveData$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(appActions.saveData),\r\n      flatMap((action) => {\r\n        return [\r\n          userDataActions.saveUserData({ correlationId: action.correlationId }),\r\n          dietActions.saveDiet({ correlationId: action.correlationId })\r\n        ];\r\n      })\r\n    )\r\n  );\r\n\r\n  saveDataSuccess$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(appActions.saveData),\r\n      flatMap((action) => zip(\r\n        this.actions$.pipe(ofType(userDataActions.saveUserDataSuccess), filterCorrelatedId(action.correlationId)),\r\n        this.actions$.pipe(ofType(dietActions.saveDietSuccess), filterCorrelatedId(action.correlationId))\r\n        ).pipe(\r\n        map(pair => appActions.saveDataSuccess({ correlationId: action.correlationId }))\r\n        )\r\n      )\r\n    )\r\n  );\r\n  requestGetPDF$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(appActions.requestGetPDF),\r\n      mergeMap(action => {\r\n        const correlationId = generateUUID();\r\n        return [\r\n          appActions.getPDF({ correlationId, date: action.date }),\r\n          appActions.saveData({ correlationId })\r\n        ];\r\n      })\r\n    )\r\n  );\r\n\r\n\r\n  getPDF$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(appActions.requestGetPDF),\r\n      switchMap(action => this.actions$.pipe(\r\n        ofType(appActions.getPDF),\r\n        switchMap(\r\n          getPDFAction => combineLatest(\r\n            [of(getPDFAction), this.actions$.pipe(ofType(saveDataSuccess), filterCorrelatedId(getPDFAction.correlationId))\r\n            ]\r\n          )\r\n        ),\r\n        switchMap(() => {\r\n          return this.apiSvc.getPDF(action.date);\r\n        })\r\n        )\r\n      )\r\n    )\r\n  );\r\n  handleError$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(appActions.effectError),\r\n      mergeMap((action) => {\r\n          alert(action.error);\r\n          return EMPTY;\r\n        }\r\n      ),\r\n    )\r\n  );\r\n\r\n\r\n}\r\n","import { createSelector } from '@ngrx/store';\r\nimport { Calculator } from '../../utils/calculator';\r\nimport { AppState } from './app.state';\r\nimport { selectDiet } from './diet/diet.selectors';\r\nimport { selectGoalCalories, selectGoalCarbsGrams, selectGoalFatGrams, selectGoalProteinGrams } from './userData/userData.selectors';\r\n\r\nexport const selectPDFBlob = createSelector(\r\n  ((state: AppState) => state.blobPDFRequest),\r\n  (blobState => blobState.pdfBlob)\r\n);\r\n\r\nexport const selectDietRemainingCalories = createSelector(\r\n  selectGoalCalories,\r\n  selectDiet,\r\n  (goalCalories, diet) => {\r\n    if ( !goalCalories ) {\r\n      return 0;\r\n    }\r\n    return goalCalories - (new Calculator()).getDietInfo(diet, 'kCalories');\r\n  }\r\n);\r\n\r\nexport const selectDietRemainingProteinGrams = createSelector(\r\n  selectGoalProteinGrams,\r\n  selectDiet,\r\n  (goalProteinGrams, diet) => {\r\n    if ( !goalProteinGrams ) {\r\n      return 0;\r\n    }\r\n    return goalProteinGrams - (new Calculator()).getDietInfo(diet, 'protein');\r\n  }\r\n);\r\n\r\nexport const selectDietRemainingFatGrams = createSelector(\r\n  selectGoalFatGrams,\r\n  selectDiet,\r\n  (goalProteinGrams, diet) => {\r\n    if ( !goalProteinGrams ) {\r\n      return 0;\r\n    }\r\n    return goalProteinGrams - (new Calculator()).getDietInfo(diet, 'fat');\r\n  }\r\n);\r\n\r\nexport const selectDietRemainingFiberGrams = createSelector(\r\n    selectGoalFatGrams,\r\n    selectDiet,\r\n    (goalFiberGrams, diet) => {\r\n        return 20 - (new Calculator()).getDietInfo(diet, 'fiber');\r\n        // if ( !goalFiberGrams ) {\r\n        //     return 0;\r\n        // }\r\n    }\r\n);\r\n\r\nexport const selectDietRemainingCarbsGrams = createSelector(\r\n  selectGoalCarbsGrams,\r\n  selectDiet,\r\n  (goalProteinGrams, diet) => {\r\n    if ( !goalProteinGrams ) {\r\n      return 0;\r\n    }\r\n    return goalProteinGrams - (new Calculator()).getDietInfo(diet, 'carbohydrates');\r\n  }\r\n);\r\n\r\n\r\n","import { IDiet, IUserData } from '../api.service';\r\n\r\nexport interface BlobPDFRequest {\r\n  pdfBlob: Blob;\r\n}\r\n\r\nexport interface AppState {\r\n  blobPDFRequest?: BlobPDFRequest;\r\n  userData: IUserData;\r\n  diet: IDiet;\r\n}\r\n\r\nexport const initialState: AppState = {\r\n  blobPDFRequest: {\r\n    pdfBlob: null,\r\n  },\r\n  userData: {\r\n    userName: null,\r\n    gender: null,\r\n    age: null,\r\n    height: null,\r\n    weight: null,\r\n    activityIndex: null,\r\n    bodyFat: null,\r\n    goal: null,\r\n    carbsRatio: null,\r\n    fatRatio: null,\r\n    fiberRatio: null,\r\n    proteinRatio: null,\r\n    pendingChanges: false,\r\n  },\r\n  diet: {\r\n    id: null,\r\n    date: null,\r\n    meals: {},\r\n    pendingChanges: false,\r\n  },\r\n};\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { Moment } from 'moment';\r\nimport { IDiet, IProduct } from '../../api.service';\r\n\r\nexport const getDietForDay = createAction('GET_DIET_FOR_DAY', props<{ date: Moment }>());\r\nexport const getDietForDayLoadSuccess = createAction('GET_DIET_FOR_DAY_LOAD_SUCCESS', props<{ diet: IDiet }>());\r\nexport const saveDiet = createAction('SAVE_DIET', props<{ correlationId: string }>());\r\nexport const saveDietSuccess = createAction('SAVE_DIET_SUCCESS', props<{ dietId: string | number, correlationId: string }>());\r\nexport const addMeal = createAction('ADD_MEAL', props<{ id: string | number, description: string }>());\r\nexport const updateMealDescription = createAction('UPDATE_MEAL_DESCRIPTION', props<{ mealId: string | number, description: string }>());\r\nexport const deleteMeal = createAction('DELETE_MEAL', props<{ mealId: string | number }>());\r\nexport const addProductLine = createAction('ADD_PRODUCT_LINE', props<{ mealId: string | number }>());\r\n// tslint:disable-next-line:max-line-length\r\nexport const deleteProductLine = createAction('PRODUCT_LINE_DELETED', props<{ productLineId: number | string, mealId: number | string }>());\r\n// tslint:disable-next-line:max-line-length\r\nexport const changeProductLineAmount = createAction('CHANGE_PRODUCT_LINE_AMOUNT', props<{ mealId: number | string, productLineId: number | string, amount: number }>());\r\n// tslint:disable-next-line:max-line-length\r\nexport const changeProductLineProduct = createAction('CHANGE_PRODUCT_LINE_PRODUCT', props<{ product: IProduct, productLineId: string | number, mealId: string | number }>());\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { select, Store } from '@ngrx/store';\r\nimport * as moment from 'moment';\r\nimport { of } from 'rxjs';\r\nimport { catchError, concatMap, map, mergeMap, switchMap, withLatestFrom } from 'rxjs/operators';\r\nimport * as generateUUID from 'uuid/v4';\r\nimport { ApiService, IDiet } from '../../api.service';\r\nimport { effectError } from '../app.actions';\r\nimport * as dietActions from './diet.actions';\r\nimport * as dietSelectors from './diet.selectors';\r\n\r\n\r\n@Injectable()\r\nexport class DietEffects {\r\n  loadDiet$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(dietActions.getDietForDay),\r\n      mergeMap((action) => {\r\n        return this.apiSvc.getDiet(action.date)\r\n          .pipe(\r\n            map(diet => {\r\n                if ( !diet ) {\r\n                  const newDiet: IDiet = {\r\n                    id: null, date: action.date.format('YYYY-MM-DD'), meals: {}\r\n                  };\r\n                  const comidas = ['DESAYUNO', 'COMIDA', 'CENA', 'MERIENDA'];\r\n\r\n                  const nowMoment = moment();\r\n                  newDiet.meals = comidas.reduce((acc, currentValue, index) => {\r\n                    const id = generateUUID();\r\n                    acc[id] = {\r\n                      id,\r\n                      createdAt: nowMoment.add(index, 'seconds').format('YYYY-MM-DD HH:mm:ss'),\r\n                      description: currentValue,\r\n                      productLines: {}\r\n                    };\r\n                    return acc;\r\n                  }, {});\r\n                  diet = newDiet;\r\n\r\n                }\r\n                return dietActions.getDietForDayLoadSuccess({ diet });\r\n              }\r\n            )\r\n          );\r\n      }),\r\n      catchError((e) => of(effectError({ error: `Error al cargar dieta: ${e.message}` })))\r\n    )\r\n  );\r\n\r\n  saveDiet$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(dietActions.saveDiet),\r\n      concatMap(action => of(action).pipe(\r\n        withLatestFrom(this.store$.pipe(select(dietSelectors.selectDiet))))\r\n      ),\r\n      switchMap(([action, diet]) => {\r\n          return this.apiSvc.saveDiet(diet).pipe(\r\n            map((response) => {\r\n              return dietActions.saveDietSuccess({ dietId: response.dietId, correlationId: action.correlationId });\r\n            })\r\n          );\r\n        }\r\n      ),\r\n      catchError((e) => of(effectError({ error: `Error al salvar datos de usuario: ${e.message}` })\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private apiSvc: ApiService,\r\n    private store$: Store\r\n  ) {\r\n  }\r\n}\r\n","import { Action, createReducer, on } from '@ngrx/store';\r\nimport * as moment from 'moment';\r\nimport { v4 as generateUUID } from 'uuid';\r\nimport { IDiet } from '../../api.service';\r\nimport { initialState } from '../app.state';\r\n\r\nimport {\r\n  addMeal,\r\n  addProductLine,\r\n  changeProductLineAmount,\r\n  changeProductLineProduct,\r\n  deleteMeal,\r\n  deleteProductLine,\r\n  getDietForDayLoadSuccess,\r\n  saveDietSuccess,\r\n  updateMealDescription\r\n} from './diet.actions';\r\n\r\nconst dietReducer = createReducer(initialState.diet,\r\n  on(getDietForDayLoadSuccess, (state, action) => {\r\n    return { ...state, ...action.diet } as IDiet;\r\n  }),\r\n  on(saveDietSuccess, (state, action) => {\r\n    const newState = { ...state, pendingChanges: false };\r\n    if ( state.id !== action.dietId ) {\r\n      return { ...newState, id: action.dietId };\r\n    }\r\n    return newState;\r\n  }),\r\n  on(addMeal, (state, action) => {\r\n    return {\r\n      ...state,\r\n      meals: {\r\n        ...state.meals,\r\n        [action.id]: { id: action.id, description: action.description, productLines: {}, createdAt: moment().format('YYYY-MM-DD HH:mm:ss') }\r\n      },\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(updateMealDescription, (state, action) => {\r\n    return {\r\n      ...state,\r\n      meals: updateItemInDictionary(state.meals, action.mealId, (mealToUpdate) => {\r\n        return { ...mealToUpdate, description: action.description };\r\n      }),\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(deleteMeal, (state, action) => {\r\n    return {\r\n      ...state,\r\n      meals: deleteFromEntityState(state.meals, action.mealId),\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(addProductLine, (state, action) => {\r\n    const newID = generateUUID();\r\n    return {\r\n      ...state,\r\n      meals: updateItemInDictionary(state.meals, action.mealId, (mealToUpdate) => {\r\n          return {\r\n            ...mealToUpdate,\r\n            productLines: {\r\n              ...mealToUpdate.productLines,\r\n              [newID]: { id: newID, product: null, amount: 0, createdAt: moment().format('YYYY-MM-DD HH:mm:ss') }\r\n            }\r\n          };\r\n        }\r\n      ),\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(deleteProductLine, (state: IDiet, action) => {\r\n    return {\r\n      ...state,\r\n      meals: {\r\n        ...state.meals,\r\n        [action.mealId]: {\r\n          ...state.meals[action.mealId],\r\n          productLines: deleteFromEntityState(state.meals[action.mealId].productLines, action.productLineId)\r\n        }\r\n      },\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(changeProductLineAmount, (state, action) => {\r\n    return {\r\n      ...state,\r\n      meals: {\r\n        ...state.meals,\r\n        [action.mealId]: {\r\n          ...state.meals[action.mealId],\r\n          productLines: {\r\n            ...state.meals[action.mealId].productLines,\r\n            [action.productLineId]: {\r\n              ...state.meals[action.mealId].productLines[action.productLineId],\r\n              amount: action.amount\r\n            }\r\n          }\r\n        }\r\n      },\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(changeProductLineProduct, (state, action) => {\r\n    return {\r\n      ...state,\r\n      meals: {\r\n        ...state.meals,\r\n        [action.mealId]: {\r\n          ...state.meals[action.mealId],\r\n          productLines: {\r\n            ...state.meals[action.mealId].productLines,\r\n            [action.productLineId]: {\r\n              ...state.meals[action.mealId].productLines[action.productLineId],\r\n              product: action.product\r\n            }\r\n          }\r\n        }\r\n      },\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n);\r\n\r\nexport function reducer(state: IDiet | undefined, action: Action) {\r\n  return dietReducer(state, action);\r\n}\r\n\r\nexport interface ItemWithId {\r\n  id: string | number;\r\n}\r\n\r\nexport function deleteFromEntityState(entityState: any, id: string | number) {\r\n  return Object.keys(entityState).reduce((acc, key) => {\r\n    // tslint:disable-next-line:triple-equals\r\n    if ( key != id ) {\r\n      acc[key] = entityState[key];\r\n    }\r\n    return acc;\r\n\r\n  }, {});\r\n}\r\n\r\nfunction updateItemInDictionary<T extends ItemWithId>(dictionary: { [id: string]: T },\r\n                                                      itemId: string | number,\r\n                                                      updateItemCallback: (item: T) => T\r\n) {\r\n  return { ...dictionary, [itemId]: updateItemCallback(dictionary[itemId]) };\r\n}\r\n","import { createSelector } from '@ngrx/store';\r\nimport { identity } from 'rxjs';\r\nimport { AppState } from '../app.state';\r\n\r\nexport const selectDiet = createSelector((state: AppState) => {\r\n  return state.diet;\r\n}, identity);\r\n\r\n\r\nexport const selectChangesPending = createSelector(\r\n  selectDiet,\r\n  (diet => {\r\n    return diet.pendingChanges;\r\n  })\r\n);\r\n","import { createAction, props } from '@ngrx/store';\r\nimport { IUserData } from '../../api.service';\r\n\r\n\r\nexport const updateAge = createAction('UPDATE_AGE', props<{ value: number }>());\r\nexport const updateHeight = createAction('UPDATE_HEIGHT', props<{ value: number }>());\r\nexport const updateWeight = createAction('UPDATE_WEIGHT', props<{ value: number }>());\r\nexport const updateActivityIndex = createAction('UPDATE_ACTIVITY_INDEX', props<{ value: number }>());\r\nexport const updateBodyFatPercentage = createAction('UPDATE_BODY_FAT_PERCENTAGE', props<{ value: number }>());\r\nexport const updateGoal = createAction('UPDATE_GOAL', props<{ value: number }>());\r\nexport const updateProteinRatio = createAction('UPDATE_PROTEIN_RATIO', props<{ value: number }>());\r\nexport const updateCarbsRatio = createAction('UPDATE_CARBS_RATIO', props<{ value: number }>());\r\nexport const updateFatRatio = createAction('UPDATE_FAT_RATIO', props<{ value: number }>());\r\nexport const updateGender = createAction('UPDATE_GENDER', props<{ value: string }>());\r\nexport const getUserData = createAction('GET_USER_DATA');\r\nexport const userDataLoadSuccess = createAction('USER_DATA_LOAD_SUCCESS', props<{ userData: IUserData }>());\r\nexport const saveUserData = createAction('SAVE_USER_DATA', props<{ correlationId: string }>());\r\nexport const saveUserDataSuccess = createAction('SAVE_USER_DATA_SUCCESS', props<{ correlationId: string }>());\r\n","import { Injectable } from '@angular/core';\r\nimport { Actions, createEffect, ofType } from '@ngrx/effects';\r\nimport { select, Store } from '@ngrx/store';\r\nimport { of } from 'rxjs';\r\nimport { catchError, concatMap, map, mergeMap, switchMap, withLatestFrom } from 'rxjs/operators';\r\nimport { ApiService } from '../../api.service';\r\nimport { effectError } from '../app.actions';\r\nimport { getUserData, saveUserData, saveUserDataSuccess, userDataLoadSuccess } from './userData.actions';\r\nimport * as userDataSelectors from './userData.selectors';\r\n\r\n\r\n@Injectable()\r\nexport class UserDataEffects {\r\n  loadUserData$ = createEffect(() =>\r\n    this.actions$.pipe(\r\n      ofType(getUserData),\r\n      mergeMap(() => this.apiSvc.getUserData()),\r\n      map(userData => userDataLoadSuccess({ userData })),\r\n      catchError((e) => of(effectError({ error: `Error al cargar datos de usuario: ${e.message}` })))\r\n    )\r\n  );\r\n\r\n  saveUserData$ = createEffect(\r\n    () => this.actions$.pipe(\r\n      ofType(saveUserData),\r\n      concatMap(action => of(action).pipe(\r\n        withLatestFrom(this.store$.pipe(select(userDataSelectors.selectUserData)))\r\n        )\r\n      ),\r\n      switchMap(([action, userData]) => {\r\n          return this.apiSvc.saveUserData(userData).pipe(map(() => saveUserDataSuccess({ correlationId: action.correlationId })));\r\n        }\r\n      ),\r\n      catchError((e) => of(effectError({ error: `Error al salvar datos de usuario: ${e.message}` })\r\n        )\r\n      )\r\n    )\r\n  );\r\n\r\n  constructor(\r\n    private actions$: Actions,\r\n    private apiSvc: ApiService,\r\n    private store$: Store\r\n  ) {\r\n  }\r\n}\r\n","import { Action, createReducer, on } from '@ngrx/store';\r\nimport { carbsKCalToGrams, fatKCalToGrams, getRatioByWeightAndAmount } from '../../../utils/calculator';\r\nimport { IUserData } from '../../api.service';\r\nimport { initialState } from '../app.state';\r\nimport {\r\n  saveUserDataSuccess,\r\n  updateActivityIndex,\r\n  updateAge,\r\n  updateBodyFatPercentage,\r\n  updateCarbsRatio,\r\n  updateFatRatio,\r\n  updateGender,\r\n  updateGoal,\r\n  updateHeight,\r\n  updateProteinRatio,\r\n  updateWeight,\r\n  userDataLoadSuccess\r\n} from './userData.actions';\r\nimport { selectGoalCalories, selectGoalCarbsKCal, selectGoalFatKCal, selectGoalProteinKCal, selectLeanBodyMass } from './userData.selectors';\r\n\r\nconst userDataReducer = createReducer(initialState.userData,\r\n  on(updateHeight, (state, action) => {\r\n    return {\r\n      ...state,\r\n      height: action.value,\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(updateWeight, (state, action) => {\r\n    const updatedState = { ...state, weight: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const fatKCal = selectGoalFatKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const carbsRatio = getRatioByWeightAndAmount(leanBodyMass, carbsKCalToGrams(goalCalories - proteinKCal - fatKCal));\r\n    return {\r\n      ...state,\r\n      weight: action.value,\r\n      carbsRatio,\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(updateActivityIndex, (state, action) => {\r\n    const updatedState = { ...state, activityIndex: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const fatKCal = selectGoalFatKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const carbsRatio = getRatioByWeightAndAmount(leanBodyMass, carbsKCalToGrams(goalCalories - proteinKCal - fatKCal));\r\n    return {\r\n      ...state,\r\n      activityIndex: action.value,\r\n      carbsRatio,\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(updateBodyFatPercentage, (state, action) => {\r\n    const updatedState = { ...state, bodyFat: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const fatKCal = selectGoalFatKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const carbsRatio = getRatioByWeightAndAmount(leanBodyMass, carbsKCalToGrams(goalCalories - proteinKCal - fatKCal));\r\n    return {\r\n      ...state,\r\n      bodyFat: action.value,\r\n      carbsRatio,\r\n      pendingChanges: true,\r\n    };\r\n  }),\r\n  on(updateAge, (state, action) => ({ ...state, age: action.value, pendingChanges: true, })),\r\n  on(updateGoal, (state, action) => {\r\n    const updatedState = { ...state, goal: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const fatKCal = selectGoalFatKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const carbsRatio = getRatioByWeightAndAmount(leanBodyMass, carbsKCalToGrams(goalCalories - proteinKCal - fatKCal));\r\n    return { ...state, goal: action.value, carbsRatio, pendingChanges: true, };\r\n  }),\r\n  on(updateProteinRatio, (state, action) => {\r\n    const updatedState = { ...state, proteinRatio: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const fatKCal = selectGoalFatKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const carbsRatio = getRatioByWeightAndAmount(leanBodyMass, carbsKCalToGrams(goalCalories - proteinKCal - fatKCal));\r\n    return { ...state, proteinRatio: action.value, carbsRatio };\r\n  }),\r\n  on(updateCarbsRatio, (state, action) => {\r\n    const updatedState = { ...state, carbsRatio: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const carbsKCal = selectGoalCarbsKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const fatRatio = getRatioByWeightAndAmount(leanBodyMass, fatKCalToGrams(goalCalories - proteinKCal - carbsKCal));\r\n    return { ...state, carbsRatio: action.value, fatRatio, pendingChanges: true, };\r\n  }),\r\n  on(updateFatRatio, (state, action) => {\r\n    const updatedState = { ...state, fatRatio: action.value };\r\n    const fakeParentState = { userData: updatedState, diet: null, pdfBlob: null };\r\n    const goalCalories = selectGoalCalories(fakeParentState);\r\n    const proteinKCal = selectGoalProteinKCal(fakeParentState);\r\n    const fatKCal = selectGoalFatKCal(fakeParentState);\r\n    const leanBodyMass = selectLeanBodyMass(fakeParentState);\r\n    const carbsRatio = +getRatioByWeightAndAmount(leanBodyMass, carbsKCalToGrams(goalCalories - proteinKCal - fatKCal)).toFixed(2);\r\n    return { ...state, fatRatio: action.value, carbsRatio, pendingChanges: true, };\r\n  }),\r\n  on(userDataLoadSuccess, (state, action) => {\r\n    return { ...state, ...action.userData };\r\n  }),\r\n  on(updateGender, (state, action) => {\r\n    return { ...state, gender: action.value, pendingChanges: true, };\r\n  }),\r\n  on(saveUserDataSuccess, ((state, action) => {\r\n    return { ...state, pendingChanges: false };\r\n  }))\r\n);\r\n\r\n\r\nexport function reducer(state: IUserData | undefined, action: Action) {\r\n  return userDataReducer(state, action);\r\n}\r\n","import { createSelector } from '@ngrx/store';\r\nimport { AppState } from '../app.state';\r\n\r\nexport const selectUserData = createSelector((state: AppState) => state.userData, userData => userData);\r\n\r\nexport const selectBodyMassIndex = createSelector(\r\n  selectUserData,\r\n  (userData) => {\r\n    if ( !userData ) {\r\n      return null;\r\n    }\r\n    if ( !userData.weight || !userData.height ) {\r\n      return null;\r\n    }\r\n    return 10000 * userData.weight / (userData.height * userData.height);\r\n  }\r\n);\r\n\r\nexport const selectLeanBodyMass = createSelector(\r\n  selectUserData,\r\n  (userData) => {\r\n    if ( !userData ) {\r\n      return null;\r\n    }\r\n    if ( !userData.bodyFat || !userData.weight ) {\r\n      return null;\r\n    }\r\n    return (100 - userData.bodyFat) * userData.weight / 100;\r\n  }\r\n);\r\n\r\nexport const selectLeanBodyMassIndex = createSelector(\r\n  selectUserData,\r\n  selectLeanBodyMass,\r\n  (userData, leanBodyMass) => {\r\n    if ( !userData.bodyFat || !userData.weight || !userData.height ) {\r\n      return null;\r\n    }\r\n    return (10000 * leanBodyMass / (userData.height * userData.height));\r\n  }\r\n);\r\n\r\nexport const selectBasalCalories = createSelector(\r\n  selectLeanBodyMass,\r\n  (leanBodyMass) => {\r\n    return 370 + (21.6 * leanBodyMass);\r\n  }\r\n);\r\n\r\nexport const selectGoalCalories = createSelector(\r\n  selectUserData,\r\n  selectBasalCalories,\r\n  (userData, basalCalories) => {\r\n    if ( !userData.bodyFat || !userData.weight || !userData.activityIndex || !userData.goal ) {\r\n      return null;\r\n    }\r\n    const maintenanceCalories = userData.activityIndex * basalCalories;\r\n    let multiplier;\r\n    const goal = +userData.goal;\r\n    switch (goal) {\r\n      case 1 :\r\n        multiplier = 1;\r\n        break;\r\n      case 2:\r\n        multiplier = 1 - 0.15;\r\n        break;\r\n      case 3:\r\n        multiplier = 1 + 0.10;\r\n    }\r\n    return maintenanceCalories * multiplier;\r\n  }\r\n);\r\nexport const selectGoalProteinGrams = createSelector(\r\n  selectUserData,\r\n  selectLeanBodyMass,\r\n  (userData, leanBodyMass) => leanBodyMass * userData.proteinRatio\r\n);\r\n\r\nexport const selectGoalProteinKCal = createSelector(\r\n  selectGoalProteinGrams,\r\n  proteinGrams => proteinGrams * 4\r\n);\r\n\r\nexport const selectGoalFatGrams = createSelector(\r\n  selectUserData,\r\n  selectLeanBodyMass,\r\n  (userData, leanBodyMass) => leanBodyMass * userData.fatRatio\r\n);\r\n\r\nexport const selectGoalFiberGrams = createSelector(\r\n    selectUserData,\r\n    fiberGrams => 20\r\n);\r\n\r\nexport const selectGoalFatKCal = createSelector(\r\n  selectGoalFatGrams,\r\n  fatGrams => fatGrams * 9\r\n);\r\n\r\nexport const selectGoalCarbsGrams = createSelector(\r\n  selectUserData,\r\n  selectLeanBodyMass,\r\n  (userData, leanBodyMass) => leanBodyMass * userData.carbsRatio\r\n);\r\n\r\nexport const selectGoalCarbsKCal = createSelector(\r\n  selectGoalCarbsGrams,\r\n  carbsGrams => carbsGrams * 4\r\n);\r\n\r\n\r\nexport const selectChangesPending = createSelector(\r\n  selectUserData,\r\n  userData => userData.pendingChanges\r\n);\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: true,\r\n  baseHref: '/wp-content/plugins/calculadora-caloria-plugin/angular'\r\n\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","import { IDiet, IMeal, IProductLine, IUserData } from '../app/api.service';\r\nimport {\r\n  selectGoalCalories,\r\n  selectGoalCarbsGrams,\r\n  selectGoalFatGrams,\r\n  selectGoalProteinGrams\r\n} from '../app/store/userData/userData.selectors';\r\n\r\nexport class Calculator {\r\n  getDietInfo(diet: IDiet, key: string) {\r\n    return Object.values(diet.meals).reduce((acc, meal) => acc + this.getMealInfo(meal, key), 0);\r\n  }\r\n\r\n  getMealEnergyInfo(meal: IMeal, nutrient: string) {\r\n    const protein = this.getMealInfo(meal, 'protein');\r\n    const carbohydrates = this.getMealInfo(meal, 'carbohydrates');\r\n    const fat = this.getMealInfo(meal, 'fat');\r\n    const fiber = this.getMealInfo(meal, 'fiber');\r\n\r\n    if ( (fat + carbohydrates + protein) === 0 ) {\r\n      return 0;\r\n    }\r\n    let numerator;\r\n    switch (nutrient) {\r\n      case 'fat':\r\n        numerator = fat * 9;\r\n        break;\r\n      case 'protein':\r\n        numerator = protein * 4;\r\n        break;\r\n      case 'carbohydrates':\r\n        numerator = carbohydrates * 4;\r\n        break;\r\n      case 'fiber':\r\n        numerator = fiber * 0;\r\n        break;\r\n    }\r\n    return numerator / (protein * 4 + carbohydrates * 4 + fat * 9);\r\n  }\r\n\r\n  getMealRecommendedIntakePercent(userData: IUserData, meal: IMeal, nutrient: string) {\r\n    switch (nutrient) {\r\n      case 'kCalories':\r\n        const totalCalories = selectGoalCalories({ userData, diet: null });\r\n        return this.getMealInfo(meal, nutrient) / totalCalories;\r\n      case 'protein':\r\n        const proteinGrams = selectGoalProteinGrams({ userData, diet: null });\r\n        return this.getMealInfo(meal, nutrient) / proteinGrams;\r\n      case 'carbohydrates':\r\n        const carbohydrates = selectGoalCarbsGrams({ userData, diet: null });\r\n        return this.getMealInfo(meal, nutrient) / carbohydrates;\r\n      case 'fat':\r\n        const fat = selectGoalFatGrams({ userData, diet: null });\r\n        return this.getMealInfo(meal, nutrient) / fat;\r\n      case 'fiber':\r\n        const fiber = selectGoalFatGrams({ userData, diet: null });\r\n        return this.getMealInfo(meal, nutrient) / fiber;\r\n    }\r\n  }\r\n\r\n  getProductLineInfo(productLine: IProductLine, productKey) {\r\n    if ( !productLine.product ) {\r\n      return null;\r\n    }\r\n    return (productLine.product[productKey] / productLine.product.amount) * productLine.amount;\r\n  }\r\n\r\n  getMealInfo(meal: IMeal, key: string) {\r\n    return Object.values(meal.productLines).reduce((acc, pl) => {\r\n      acc += this.getProductLineInfo(pl, key);\r\n      return acc;\r\n    }, 0);\r\n  }\r\n}\r\n\r\nexport const getNutrientByWeightRatio = (weight, ratio) => weight * 2.2 * ratio;\r\nexport const getRatioByWeightAndAmount = (leanBodyMass, amount) => +(amount / leanBodyMass).toFixed(2);\r\n\r\nexport const proteinGramsToKCal = x => x * 4;\r\nexport const carbsGramsToKCal = x => x * 4;\r\nexport const fatGramsToKCal = x => x * 9;\r\n\r\nexport const proteinKCalToGrams = x => x / 4;\r\nexport const carbsKCalToGrams = x => x / 4;\r\nexport const fatKCalToGrams = x => x / 9;\r\n\r\n","export const mappings = {\r\n  a: String.fromCharCode(65, 97, 192, 224, 193, 225, 194, 226, 195, 227, 196, 228, 229, 258, 259),\r\n  e: String.fromCharCode(69, 101, 200, 232, 201, 233, 202, 234, 203, 235),\r\n  i: String.fromCharCode(73, 105, 204, 236, 205, 237, 206, 238, 207, 239),\r\n  o: String.fromCharCode(79, 111, 210, 242, 211, 243, 212, 244, 213, 245, 214, 246),\r\n  n: String.fromCharCode(78, 110, 209, 241),\r\n  u: String.fromCharCode(85, 117, 217, 249, 218, 250, 219, 251, 220, 252),\r\n  c: String.fromCharCode(67, 99, 199, 231),\r\n  y: String.fromCharCode(89, 121, 221, 253, 159, 255),\r\n};\r\n\r\nexport function mergeMappings(innerMappings) {\r\n  const base = {};\r\n  Object.keys(mappings).forEach(mapping => {\r\n    base[mapping] = mappings[mapping];\r\n  });\r\n  if ( innerMappings ) {\r\n    Object.keys(innerMappings).forEach(mapping => {\r\n      base[mapping] = innerMappings[mapping];\r\n    });\r\n  }\r\n  return base;\r\n}\r\n\r\nexport function replacer(input, givenMappings) {\r\n  return input.split('').map((letter) => {\r\n    Object.keys(givenMappings).forEach(mapping => {\r\n      if ( mapping && mapping !== givenMappings[mapping] && (mapping === letter || givenMappings[mapping].indexOf(letter) !== -1) ) {\r\n        letter = Array.isArray(givenMappings[mapping]) ? givenMappings[mapping].join('') : '[' + givenMappings[mapping] + ']';\r\n        return letter;\r\n      }\r\n    });\r\n    return letter;\r\n  }).join('');\r\n}\r\n\r\n/** Generate a function that returns a RegExp, that can be reused with the same options */\r\nexport function toRegex(options) {\r\n  if ( options === void 0 ) {\r\n    options = {};\r\n  }\r\n  const innerMappings = mergeMappings(typeof options.mappings === 'object' ? options.mappings : null);\r\n  return (input) => {\r\n    return new RegExp(replacer(input, innerMappings), typeof options.flags === 'string' ? options.flags : 'i');\r\n  };\r\n}\r\n\r\n/** Generate a function that returns a string, that can be reused with the same options */\r\nexport function toString(options) {\r\n  if ( options === void 0 ) {\r\n    options = {};\r\n  }\r\n  const innerMappings = mergeMappings(typeof options.mappings === 'object' ? options.mappings : null);\r\n  return (input) => {\r\n    return replacer(input, innerMappings);\r\n  };\r\n}\r\n","import { TypedAction } from '@ngrx/store/src/models';\r\nimport { Observable } from 'rxjs';\r\nimport { filter, map } from 'rxjs/operators';\r\n\r\nexport interface Correllatable {\r\n  correlationId: string;\r\n}\r\n\r\nexport type CorrelatableAction = TypedAction<string> & { correlationId: string };\r\n\r\nexport function filterCorrelatedId(correlatedId: string) {\r\n  return (source: Observable<any>) => {\r\n    return source.pipe(\r\n      map(x => x as CorrelatableAction),\r\n      filter(x => x.correlationId === correlatedId)\r\n    );\r\n  };\r\n}\r\n"]}